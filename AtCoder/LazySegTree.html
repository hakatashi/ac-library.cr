<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.32.1">

<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/google/ac-library.cr">
  <title>AtCoder::LazySegTree(S, F) - github.com/google/ac-library.cr</title>
  <script type="text/javascript">
    CrystalDoc.base_path = "../";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/google/ac-library.cr/AtCoder" data-name="atcoder">
      <a href="../AtCoder.html">AtCoder</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/DSU" data-name="atcoder::dsu">
      <a href="../AtCoder/DSU.html">DSU</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/FenwickTree" data-name="atcoder::fenwicktree(t)">
      <a href="../AtCoder/FenwickTree.html">FenwickTree</a>
      
    </li>
  
  <li class=" current" data-id="github.com/google/ac-library.cr/AtCoder/LazySegTree" data-name="atcoder::lazysegtree(s, f)">
      <a href="../AtCoder/LazySegTree.html">LazySegTree</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/Math" data-name="atcoder::math">
      <a href="../AtCoder/Math.html">Math</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/MaxFlow" data-name="atcoder::maxflow">
      <a href="../AtCoder/MaxFlow.html">MaxFlow</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/MaxFlow/Edge" data-name="atcoder::maxflow::edge">
      <a href="../AtCoder/MaxFlow/Edge.html">Edge</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/ModInt1000000007" data-name="atcoder::modint1000000007">
      <a href="../AtCoder/ModInt1000000007.html">ModInt1000000007</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/ModInt998244353" data-name="atcoder::modint998244353">
      <a href="../AtCoder/ModInt998244353.html">ModInt998244353</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/PriorityQueue" data-name="atcoder::priorityqueue(t)">
      <a href="../AtCoder/PriorityQueue.html">PriorityQueue</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree" data-name="atcoder::redblacktree">
      <a href="../AtCoder/RedBlackTree.html">RedBlackTree</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree/NilNode" data-name="atcoder::redblacktree::nilnode">
      <a href="../AtCoder/RedBlackTree/NilNode.html">NilNode</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree/Node" data-name="atcoder::redblacktree::node">
      <a href="../AtCoder/RedBlackTree/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/SCC" data-name="atcoder::scc">
      <a href="../AtCoder/SCC.html">SCC</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/SCC/Adjacency" data-name="atcoder::scc::adjacency">
      <a href="../AtCoder/SCC/Adjacency.html">Adjacency</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/SegTree" data-name="atcoder::segtree(t)">
      <a href="../AtCoder/SegTree.html">SegTree</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/TwoSat" data-name="atcoder::twosat">
      <a href="../AtCoder/TwoSat.html">TwoSat</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/TwoSat/NotSatisfiableError" data-name="atcoder::twosat::notsatisfiableerror">
      <a href="../AtCoder/TwoSat/NotSatisfiableError.html">NotSatisfiableError</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/Int" data-name="int">
      <a href="../Int.html">Int</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> AtCoder::LazySegTree(S, F)

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../AtCoder/LazySegTree.html">AtCoder::LazySegTree(S, F)</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Implements atcoder::lazy_segtree.</p>

<p>The identity element will be implicitly defined as nil, so you don't
have to manually define it. In the other words, you cannot include
nil into an element of the monoid.</p>

<p>Similarly, the identity map of F will be implicitly defined as nil,
so you don't have to manually define it. In the other words, you
cannot include nil into an element of the set F.</p>

<pre><code>op <span class="o">=</span> ->(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { [a, b].min }
mapping <span class="o">=</span> ->(f : <span class="t">Int32</span>, x : <span class="t">Int32</span>) { f }
composition <span class="o">=</span> ->(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { a }
tree <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">LazySegTree</span>(<span class="t">Int32</span>, <span class="t">Int32</span>).<span class="k">new</span>((<span class="n">0</span>...<span class="n">100</span>).to_a, op, mapping, composition)
tree[<span class="n">10</span>...<span class="n">50</span>] <span class="c"># =&gt; 10</span>
tree[<span class="n">20</span>...<span class="n">60</span>] <span class="o">=</span> <span class="n">0</span>
tree[<span class="n">50</span>...<span class="n">80</span>] <span class="c"># =&gt; 0</span></code></pre>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L37" target="_blank">
        atcoder/LazySegTree.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(values:Array(S),operator:S,S-%3ES,application:F,S-%3ES,composition:F,F-%3EF)-class-method" class="signature"><strong>.new</strong>(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#[](index:Int)-instance-method" class="signature"><strong>#[]</strong>(index : Int)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.get(index).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[](range:Range(Int,Int))-instance-method" class="signature"><strong>#[]</strong>(range : Range(Int, Int))</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.prod(left, right).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[]=(index:Int,applicator:F)-instance-method" class="signature"><strong>#[]=</strong>(index : Int, applicator : F)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.apply(index, applicator).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[]=(range:Range(Int,Int),applicator:F)-instance-method" class="signature"><strong>#[]=</strong>(range : Range(Int, Int), applicator : F)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.apply(left, right, applicator).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#all_prod-instance-method" class="signature"><strong>#all_prod</strong></a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.all_prod().</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#apply_range(a:Int,b:Int,f:F,segment_index:Int,range:Range(Int,Int))-instance-method" class="signature"><strong>#apply_range</strong>(a : Int, b : Int, f : F, segment_index : Int, range : Range(Int, Int))</a>
        
          <div class="summary"><p>Applies applicator <code>f</code> onto segment, whose range is <code>range</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#eval_segment(segment_index:Int,range:Range(Int,Int))-instance-method" class="signature"><strong>#eval_segment</strong>(segment_index : Int, range : Range(Int, Int))</a>
        
          <div class="summary"><p>Evaluates segment, whose range is <code>range</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get_range(a:Int,b:Int,segment_index:Int,range:Range(Int,Int))-instance-method" class="signature"><strong>#get_range</strong>(a : Int, b : Int, segment_index : Int, range : Range(Int, Int))</a>
        
          <div class="summary"><p>Gets evaluated value of a segment, whose range is <code>range</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max_left-instance-method" class="signature"><strong>#max_left</strong></a>
        
          <div class="summary"><p><span class="flag yellow">FIXME</span>  Unimplemented</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max_right-instance-method" class="signature"><strong>#max_right</strong></a>
        
          <div class="summary"><p><span class="flag yellow">FIXME</span>  Unimplemented</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set-instance-method" class="signature"><strong>#set</strong></a>
        
          <div class="summary"><p><span class="flag yellow">FIXME</span>  Unimplemented</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#values:Array(S?)-instance-method" class="signature"><strong>#values</strong> : Array(S?)</a>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(values:Array(S),operator:S,S-&gt;S,application:F,S-&gt;S,composition:F,F-&gt;F)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)

        <a class="method-permalink" href="#new(values:Array(S),operator:S,S-%3ES,application:F,S-%3ES,composition:F,F-%3EF)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L40" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="[](index:Int)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(index : <a href="../Int.html">Int</a>)

        <a class="method-permalink" href="#[](index:Int)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.get(index).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L83" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](range:Range(Int,Int))-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(range : Range(<a href="../Int.html">Int</a>, <a href="../Int.html">Int</a>))

        <a class="method-permalink" href="#[](range:Range(Int,Int))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.prod(left, right).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L88" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(index:Int,applicator:F)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(index : <a href="../Int.html">Int</a>, applicator : F)

        <a class="method-permalink" href="#[]=(index:Int,applicator:F)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.apply(index, applicator).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L71" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(range:Range(Int,Int),applicator:F)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(range : Range(<a href="../Int.html">Int</a>, <a href="../Int.html">Int</a>), applicator : F)

        <a class="method-permalink" href="#[]=(range:Range(Int,Int),applicator:F)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.apply(left, right, applicator).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L76" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="all_prod-instance-method">
      <div class="signature">
        
        def <strong>all_prod</strong>

        <a class="method-permalink" href="#all_prod-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.all_prod().</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L212" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="apply_range(a:Int,b:Int,f:F,segment_index:Int,range:Range(Int,Int))-instance-method">
      <div class="signature">
        
        def <strong>apply_range</strong>(a : <a href="../Int.html">Int</a>, b : <a href="../Int.html">Int</a>, f : F, segment_index : <a href="../Int.html">Int</a>, range : Range(<a href="../Int.html">Int</a>, <a href="../Int.html">Int</a>))

        <a class="method-permalink" href="#apply_range(a:Int,b:Int,f:F,segment_index:Int,range:Range(Int,Int))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Applies applicator <code>f</code> onto segment, whose range is <code>range</code>. <code>range</code> is exclusive here.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L150" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="eval_segment(segment_index:Int,range:Range(Int,Int))-instance-method">
      <div class="signature">
        
        def <strong>eval_segment</strong>(segment_index : <a href="../Int.html">Int</a>, range : Range(<a href="../Int.html">Int</a>, <a href="../Int.html">Int</a>))

        <a class="method-permalink" href="#eval_segment(segment_index:Int,range:Range(Int,Int))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Evaluates segment, whose range is <code>range</code>. <code>range</code> is exclusive here.</p>

<p>Preconditions:</p>

<ul><li>segment_index &lt; @segments.size</li><li>range.end - range.begin > 1</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L132" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get_range(a:Int,b:Int,segment_index:Int,range:Range(Int,Int))-instance-method">
      <div class="signature">
        
        def <strong>get_range</strong>(a : <a href="../Int.html">Int</a>, b : <a href="../Int.html">Int</a>, segment_index : <a href="../Int.html">Int</a>, range : Range(<a href="../Int.html">Int</a>, <a href="../Int.html">Int</a>))

        <a class="method-permalink" href="#get_range(a:Int,b:Int,segment_index:Int,range:Range(Int,Int))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets evaluated value of a segment, whose range is <code>range</code>. <code>range</code> is exclusive here.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L187" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max_left-instance-method">
      <div class="signature">
        
        def <strong>max_left</strong>

        <a class="method-permalink" href="#max_left-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag yellow">FIXME</span>  Unimplemented</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L222" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max_right-instance-method">
      <div class="signature">
        
        def <strong>max_right</strong>

        <a class="method-permalink" href="#max_right-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag yellow">FIXME</span>  Unimplemented</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L217" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set-instance-method">
      <div class="signature">
        
        def <strong>set</strong>

        <a class="method-permalink" href="#set-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p><span class="flag yellow">FIXME</span>  Unimplemented</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L66" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="values:Array(S?)-instance-method">
      <div class="signature">
        
        def <strong>values</strong> : Array(S?)

        <a class="method-permalink" href="#values:Array(S?)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/e81f82f3dee9b9b93f28fd9f1324cd52f82450a3/atcoder/LazySegTree.cr#L38" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>

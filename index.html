<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.32.1">

<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/google/ac-library.cr">
  <title>README - github.com/google/ac-library.cr</title>
  <script type="text/javascript">
  CrystalDoc.base_path = "";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder" data-name="atcoder">
      <a href="AtCoder.html">AtCoder</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/DirectedGraph" data-name="atcoder::directedgraph">
      <a href="AtCoder/DirectedGraph.html">DirectedGraph</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/DSU" data-name="atcoder::dsu">
      <a href="AtCoder/DSU.html">DSU</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/FenwickTree" data-name="atcoder::fenwicktree(t)">
      <a href="AtCoder/FenwickTree.html">FenwickTree</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/Graph" data-name="atcoder::graph">
      <a href="AtCoder/Graph.html">Graph</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/LazySegTree" data-name="atcoder::lazysegtree(s, f)">
      <a href="AtCoder/LazySegTree.html">LazySegTree</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/Math" data-name="atcoder::math">
      <a href="AtCoder/Math.html">Math</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/MaxFlow" data-name="atcoder::maxflow">
      <a href="AtCoder/MaxFlow.html">MaxFlow</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/MaxFlow/Edge" data-name="atcoder::maxflow::edge">
      <a href="AtCoder/MaxFlow/Edge.html">Edge</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/ModInt1000000007" data-name="atcoder::modint1000000007">
      <a href="AtCoder/ModInt1000000007.html">ModInt1000000007</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/ModInt998244353" data-name="atcoder::modint998244353">
      <a href="AtCoder/ModInt998244353.html">ModInt998244353</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/Prime" data-name="atcoder::prime">
      <a href="AtCoder/Prime.html">Prime</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/PriorityQueue" data-name="atcoder::priorityqueue(t)">
      <a href="AtCoder/PriorityQueue.html">PriorityQueue</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree" data-name="atcoder::redblacktree">
      <a href="AtCoder/RedBlackTree.html">RedBlackTree</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree/NilNode" data-name="atcoder::redblacktree::nilnode">
      <a href="AtCoder/RedBlackTree/NilNode.html">NilNode</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/RedBlackTree/Node" data-name="atcoder::redblacktree::node">
      <a href="AtCoder/RedBlackTree/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/SCC" data-name="atcoder::scc">
      <a href="AtCoder/SCC.html">SCC</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/SCC/Adjacency" data-name="atcoder::scc::adjacency">
      <a href="AtCoder/SCC/Adjacency.html">Adjacency</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/SegTree" data-name="atcoder::segtree(t)">
      <a href="AtCoder/SegTree.html">SegTree</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/Tree" data-name="atcoder::tree">
      <a href="AtCoder/Tree.html">Tree</a>
      
    </li>
  
  <li class="parent " data-id="github.com/google/ac-library.cr/AtCoder/TwoSat" data-name="atcoder::twosat">
      <a href="AtCoder/TwoSat.html">TwoSat</a>
      
        <ul>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/TwoSat/NotSatisfiableError" data-name="atcoder::twosat::notsatisfiableerror">
      <a href="AtCoder/TwoSat/NotSatisfiableError.html">NotSatisfiableError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/AtCoder/UndirectedGraph" data-name="atcoder::undirectedgraph">
      <a href="AtCoder/UndirectedGraph.html">UndirectedGraph</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/Int" data-name="int">
      <a href="Int.html">Int</a>
      
    </li>
  
  <li class=" " data-id="github.com/google/ac-library.cr/Int64" data-name="int64">
      <a href="Int64.html">Int64</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="ac-library.cr-run-test-and-verifierci-badgeci-link" class="anchor" href="#ac-library.cr-run-test-and-verifierci-badgeci-link">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>ac-library.cr [![Run test and verifier][ci-badge]][ci-link]</h1>

<p>[ci-badge]: https://github.com/google/ac-library.cr/workflows/Run%20test%20and%20verifier/badge.svg
[ci-link]: https://github.com/google/ac-library.cr/actions?query=workflow%3A%22Run+test+and+verifier%22</p>

<p>This is not an officially supported Google product.</p>

<p>ac-library.cr is a Crystal port of <a href="https://github.com/atcoder/ac-library" target="_blank">ac-library</a>.</p>

<p>This library aims to provide the almost-equivalent (and additional) functionality with ac-library but in the manner of Crystal.</p>

<p>For the convinience of usage in programming contest, each class in the library does not depend on the other files and can be independently used.</p>

<h2><a id="mod-int.cratcodermod-int.cr-atcodermodinthttpsatcoder.github.ioac-librarydocument-enmodint.html" class="anchor" href="#mod-int.cratcodermod-int.cr-atcodermodinthttpsatcoder.github.ioac-librarydocument-enmodint.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/ModInt.cr" target="_blank">ModInt.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/modint.html" target="_blank">&lt;atcoder/modint></a>)</h2>

<ul><li><code>modint</code> => Unimplemented</li><li><code>modint998244353</code> => <code><a href="AtCoder/ModInt998244353.html">AtCoder::ModInt998244353</a></code></li><li><code>modint1000000007</code> => <code><a href="AtCoder/ModInt1000000007.html">AtCoder::ModInt1000000007</a></code></li></ul>

<p><code></code>`cr
  alias Mint = AtCoder::ModInt1000000007
  Mint.new(30_i64) // Mint.new(7_i64) #=> 285714292
  <code></code>`</p>

<ul><li><code>static_modint</code> => <code>AtCoder.static_modint</code></li></ul>

<p><code></code>`cr
  AtCoder.static_modint(ModInt101, 101_i64)
  alias Mint = AtCoder::ModInt101
  Mint.new(80_i64) + Mint.new(90_i64) #=> 89
  <code></code>`</p>

<ul><li><code>dynamic_modint</code> => Unimplemented</li></ul>

<h2><a id="fenwick-tree.cratcoderfenwick-tree.cr-atcoderfenwicktreehttpsatcoder.github.ioac-librarydocument-enfenwicktree.html" class="anchor" href="#fenwick-tree.cratcoderfenwick-tree.cr-atcoderfenwicktreehttpsatcoder.github.ioac-librarydocument-enfenwicktree.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/FenwickTree.cr" target="_blank">FenwickTree.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/fenwicktree.html" target="_blank">&lt;atcoder/fenwicktree></a>)</h2>

<ul><li><code>fenwick_tree<T> fw(n)</code> => <code><a href="AtCoder/FenwickTree.html">AtCoder::FenwickTree</a>(T).new(n)</code></li></ul>

<p><code></code>`cr
  tree = AtCoder::FenwickTree(Int64).new(10)
  tree.add(3, 10)
  tree.add(5, 20)
  tree[3..5] #=> 30
  tree[3...5] #=> 10
  <code></code>`</p>

<ul><li><code>.add(p, x)</code> => <code>#add(p, x)</code></li><li><code>.sum(l, r)</code> => <code>#[](l...r)</code></li></ul></ul>

<h2><a id="seg-tree.cratcoderseg-tree.cr-atcodersegtreehttpsatcoder.github.ioac-librarydocument-ensegtree.html" class="anchor" href="#seg-tree.cratcoderseg-tree.cr-atcodersegtreehttpsatcoder.github.ioac-librarydocument-ensegtree.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/SegTree.cr" target="_blank">SegTree.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/segtree.html" target="_blank">&lt;atcoder/segtree></a>)</h2>

<ul><li><code>segtree<S, op, e> seg(v)</code> => <code><a href="AtCoder/SegTree.html">AtCoder::SegTree</a>(S).new(v, &op?)</code></li></ul>

<p>単位元は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばモノイドの (単位元以外の) 元にnilを含めることはできません。 The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.</p>

<p><code></code>`cr
  tree = AtCoder::SegTree.new((0...100).to_a) {|a, b| [a, b].min}
  tree[10...50] #=> 10
  <code></code>`</p>

<ul><li><code>.set(p, x)</code> => <code>#[]=(p, x)</code></li><li><code>.get(p)</code> => <code>#[](p)</code></li><li><code>.prod(l, r)</code> => <code>#[](l...r)</code></li><li><code>.all_prod()</code> => <code>#all_prod</code></li><li><code>.max_right<f>(l)</code> => Unimplemented</li><li><code>.max_left<f>(r)</code> => Unimplemented</li></ul></ul>

<h2><a id="lazy-seg-tree.cratcoderlazy-seg-tree.cr-atcoderlazysegtreehttpsatcoder.github.ioac-librarydocument-enlazysegtree.html" class="anchor" href="#lazy-seg-tree.cratcoderlazy-seg-tree.cr-atcoderlazysegtreehttpsatcoder.github.ioac-librarydocument-enlazysegtree.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/LazySegTree.cr" target="_blank">LazySegTree.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/lazysegtree.html" target="_blank">&lt;atcoder/lazysegtree></a>)</h2>

<ul><li><code>lazy_segtree<S, op, e, F, mapping, composition, id> seg(v)</code> => <code><a href="AtCoder/LazySegTree.html">AtCoder::LazySegTree</a>(S, F).new(v, op, mapping, composition)</code></li></ul>

<p>単位元は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばモノイドの (単位元以外の) 元にnilを含めることはできません。 The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.</p>

<p>また、恒等写像は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばFの (恒等写像以外の) 元にnilを含めることはできません。 Similarly, the identity map of F will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the set F.</p>

<p><code></code>`cr
  op = ->(a : Int32, b : Int32) { [a, b].min }
  mapping = ->(f : Int32, x : Int32) { f }
  composition = ->(a : Int32, b : Int32) { a }
  tree = AtCoder::LazySegTree(Int32, Int32).new((0...100).to_a, op, mapping, composition)
  tree[10...50] #=> 10
  tree[20...60] = 0
  tree[50...80] #=> 0
  <code></code>`</p>

<ul><li><code>.set(p, x)</code> => Unimplemented</li><li><code>.get(p)</code> => <code>#[](p)</code></li><li><code>.prod(l, r)</code> => <code>#[](l...r)</code></li><li><code>.all_prod()</code> => <code>#all_prod</code></li><li><code>.apply(p, f)</code> => <code>#[]=(p, f)</code></li><li><code>.apply(l, r, f)</code> => <code>#[]=(l...r, f)</code></li><li><code>.max_right<f>(l)</code> => Unimplemented</li><li><code>.max_left<f>(r)</code> => Unimplemented</li></ul></ul>

<h2><a id="dsu.cratcoderdsu.cr-atcoderdsuhttpsatcoder.github.ioac-librarydocument-endsu.html" class="anchor" href="#dsu.cratcoderdsu.cr-atcoderdsuhttpsatcoder.github.ioac-librarydocument-endsu.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/DSU.cr" target="_blank">DSU.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/dsu.html" target="_blank">&lt;atcoder/dsu></a>)</h2>

<ul><li><code>dsu(n)</code> => <code>AtCoder::DSU.new(n)</code></li></ul>

<p><code></code>`cr
  dsu = AtCoder::DSU.new(10)
  dsu.merge(0, 2)
  dsu.merge(4, 2)
  dsu.same(0, 4) #=> true
  dsu.size(4) #=> 3
  <code></code>`</p>

<ul><li><code>.merge(a, b)</code> => <code>#merge(a, b)</code></li><li><code>.same(a, b)</code> => <code>#same(a, b)</code></li><li><code>.leader(a)</code> => <code>#leader(a)</code></li><li><code>.size()</code> => <code>#size</code></li><li><code>.groups()</code> => <code>#groups</code></li></ul></ul>

<pre><code><span class="o">*</span> <span class="t">This</span> method returns set instead <span class="k">of</span> list.</code></pre>

<h2><a id="max-flow.cratcodermax-flow.cr-atcodermaxflowhttpsatcoder.github.ioac-librarydocument-enmaxflow.html" class="anchor" href="#max-flow.cratcodermax-flow.cr-atcodermaxflowhttpsatcoder.github.ioac-librarydocument-enmaxflow.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/MaxFlow.cr" target="_blank">MaxFlow.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/maxflow.html" target="_blank">&lt;atcoder/maxflow></a>)</h2>

<ul><li><code>mf_graph<Cap> graph(n)</code> => <code>AtCoder::MaxFlow.new(n)</code></li></ul>

<p><code>Cap</code> is always <code><a href="Int64.html">Int64</a></code>.</p>

<p><code></code>`cr
  mf = AtCoder::MaxFlow.new(3)
  mf.add_edge(0, 1, 3)
  mf.add_edge(1, 2, 1)
  mf.add_edge(0, 2, 2)
  mf.flow(0, 2) #=> 3
  <code></code>`</p>

<ul><li><code>.add_edge(from, to, cap)</code> => <code>#add_edge(from, to, cap)</code></li><li><code>.flow(s, t)</code> => <code>#flow(s, t)</code></li><li><code>.min_cut(s)</code> => Unimplemented</li><li><code>.get_edge(i)</code> => Unimplemented</li><li><code>.edges()</code> => Unimplemented</li><li><code>.change_edge(i, new_cap, new_flow)</code> => Unimplemented</li></ul></ul>

<h2><a id="scc.cratcoderscc.cr-atcoderscchttpsatcoder.github.ioac-librarydocument-enscc.html" class="anchor" href="#scc.cratcoderscc.cr-atcoderscchttpsatcoder.github.ioac-librarydocument-enscc.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/SCC.cr" target="_blank">SCC.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/scc.html" target="_blank">&lt;atcoder/scc></a>)</h2>

<ul><li><code>scc_graph graph(n)</code> => <code>AtCoder::SCC.new(n)</code></li></ul>

<p><code></code>`cr
  scc = AtCoder::SCC.new(3_i64)
  scc.add_edge(0, 1)
  scc.add_edge(1, 0)
  scc.add_edge(2, 0)
  scc.scc #=> [Set{2}, Set{0, 1}]
  <code></code>`</p>

<ul><li><code>.add_edge(from, to)</code> => <code>#add_edge(from, to)</code></li><li><code>.scc()</code> => <code>#scc</code></li></ul></ul>

<h2><a id="two-sat.cratcodertwo-sat.cr-atcodertwosathttpsatcoder.github.ioac-librarydocument-entwosat.html" class="anchor" href="#two-sat.cratcodertwo-sat.cr-atcodertwosathttpsatcoder.github.ioac-librarydocument-entwosat.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/TwoSat.cr" target="_blank">TwoSat.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/twosat.html" target="_blank">&lt;atcoder/twosat></a>)</h2>

<ul><li><code>two_sat graph(n)</code> => <code>AtCoder::SCC.new(n)</code></li></ul>

<p><code></code>`cr
  twosat = AtCoder::TwoSat.new(2_i64)
  twosat.add_clause(0, true, 1, false)
  twosat.add_clause(1, true, 0, false)
  twosat.add_clause(0, false, 1, false)
  twosat.satisfiable? #=> true
  twosat.answer #=> [false, false]
  <code></code>`</p>

<ul><li><code>.add_clause(i, f, j, g)</code> => <code>#add_clause(i, f, j, g)</code></li><li><code>.satisfiable()</code> => <code>#satisfiable?</code></li><li><code>.answer()</code> => <code>#answer</code></li></ul></ul>

<pre><code><span class="t">This</span> method will raise <span class="k">if</span> it</code></pre>

<h2><a id="math.cratcodermath.cr-atcodermathhttpsatcoder.github.ioac-librarydocument-enmath.html" class="anchor" href="#math.cratcodermath.cr-atcodermathhttpsatcoder.github.ioac-librarydocument-enmath.html">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/Math.cr" target="_blank">Math.cr</a> (<a href="https://atcoder.github.io/ac-library/document_en/math.html" target="_blank">&lt;atcoder/math></a>)</h2>

<ul><li><code>pow_mod(x, n, m)</code> => <code>AtCoder::Math.pow_mod(x, n, m)</code></li><li><code>inv_mod(x, m)</code> => <code>AtCoder::Math.inv_mod(x, m)</code></li><li><code>crt(r, m)</code> => <code>AtCoder::Math.crt(r, m)</code></li><li><code>floor_sum</code> => Unimplemented</li></ul>

<h2><a id="priority-queue.cratcoderpriority-queue.cr-not-in-acl" class="anchor" href="#priority-queue.cratcoderpriority-queue.cr-not-in-acl">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/PriorityQueue.cr" target="_blank">PriorityQueue.cr</a> (not in ACL)</h2>

<ul><li><code><a href="AtCoder/PriorityQueue.html">AtCoder::PriorityQueue</a>(T).new</code></li></ul>

<p><code></code>`cr
  q = AtCoder::PriorityQueue(Int64).new
  q &lt;&lt; 1_i64
  q &lt;&lt; 3_i64
  q &lt;&lt; 2_i64
  q.pop #=> 3
  q.pop #=> 2
  q.pop #=> 1
  <code></code>`</p>

<ul><li><code>#<<(v : T)</code></li></ul></ul>

<pre><code><span class="t">Push</span> value into the queue.</code></pre>

<ul><li><code>#pop</code></li></ul></ul>

<pre><code><span class="t">Pop</span> value from the queue.</code></pre>

<ul><li><code>#size</code></li></ul></ul>

<pre><code><span class="t">Returns</span> size <span class="k">of</span> the queue</code></pre>

<h2><a id="prime.cratcoderprime.cr-not-in-acl" class="anchor" href="#prime.cratcoderprime.cr-not-in-acl">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="atcoder/Prime.cr" target="_blank">Prime.cr</a> (not in ACL)</h2>

<ul><li><code><a href="AtCoder/Prime.html">AtCoder::Prime</a></code> (module)</li></ul>

<p>Implements <a href="https://ruby-doc.com/stdlib/libdoc/prime/rdoc/Prime.html" target="_blank">Ruby's Prime library</a>.</p>

<p><code></code>`cr
  AtCoder::Prime.first(7) # => [2, 3, 5, 7, 11, 13, 17]
  <code></code>`</p>
</div>
</body>
</html>

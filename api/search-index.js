crystal_doc_search_index_callback({"repository_name":"atcoder","body":"# ac-library.cr [![Run test and verifier][ci-badge]][ci-link] [![Coverage][coverage-badge]][coverage-link]\n\n[ci-badge]: https://github.com/google/ac-library.cr/workflows/Run%20test%20and%20verifier/badge.svg\n[ci-link]: https://github.com/google/ac-library.cr/actions?query=workflow%3A%22Run+test+and+verifier%22\n[coverage-badge]: https://codecov.io/gh/google/ac-library.cr/branch/master/graph/badge.svg\n[coverage-link]: https://codecov.io/gh/google/ac-library.cr\n\nThis is not an officially supported Google product.\n\nac-library.cr is a Crystal port of [ac-library](https://github.com/atcoder/ac-library).\n\nThis library aims to provide the almost-equivalent (and additional) functionality with ac-library but in the manner of Crystal.\n\n## Installation\n\nAdd the following code to your project's `shard.yml`.\n\n```yml\ndependencies:\n  atcoder:\n    github: google/ac-library.cr\n    branch: master\n```\n\n## Usage\n\n```cr\nrequire \"atcoder\" # load all libraries\nrequire \"atcoder/fenwick_tree\" # load FenwickTree\n```\n\n## [`atcoder/mod_int`](https://google.github.io/ac-library.cr/docs/src/mod_int.cr) (Implements [<atcoder/modint>](https://atcoder.github.io/ac-library/document_en/modint.html))\n\n* `modint` => Unimplemented\n* `modint998244353` => `AtCoder::ModInt998244353`\n* `modint1000000007` => `AtCoder::ModInt1000000007`\n\n  ```cr\n  alias Mint = AtCoder::ModInt1000000007\n  Mint.new(30_i64) // Mint.new(7_i64) #=> 285714292\n  ```\n\n* `static_modint` => `AtCoder.static_modint`\n\n  ```cr\n  AtCoder.static_modint(ModInt101, 101_i64)\n  alias Mint = AtCoder::ModInt101\n  Mint.new(80_i64) + Mint.new(90_i64) #=> 89\n  ```\n\n* `dynamic_modint` => Unimplemented\n\n## [`atcoder/fenwick_tree`](https://google.github.io/ac-library.cr/docs/src/fenwick_tree.cr) (Implements [<atcoder/fenwicktree>](https://atcoder.github.io/ac-library/document_en/fenwicktree.html))\n\n* `fenwick_tree<T> fw(n)` => `AtCoder::FenwickTree(T).new(n)`\n* `fenwick_tree<T> fw(array)` => `AtCoder::FenwickTree(T).new(array)`\n\n  ```cr\n  tree = AtCoder::FenwickTree(Int64).new(10)\n  tree.add(3, 10)\n  tree.add(5, 20)\n  tree[3..5] #=> 30\n  tree[3...5] #=> 10\n  ```\n\n  * `.add(p, x)` => `#add(p, x)`\n  * `.sum(l, r)` => `#[](l...r)`\n\n## [`atcoder/seg_tree`](https://google.github.io/ac-library.cr/docs/src/seg_tree.cr) (Implements [<atcoder/segtree>](https://atcoder.github.io/ac-library/document_en/segtree.html))\n\n* `segtree<S, op, e> seg(v)` => `AtCoder::SegTree(S).new(v, &op?)`\n\n  単位元は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばモノイドの (単位元以外の) 元にnilを含めることはできません。 The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.\n\n  ```cr\n  tree = AtCoder::SegTree.new((0...100).to_a) {|a, b| [a, b].min}\n  tree[10...50] #=> 10\n  ```\n\n  * `.set(p, x)` => `#[]=(p, x)`\n  * `.get(p)` => `#[](p)`\n  * `.prod(l, r)` => `#[](l...r)`\n  * `.all_prod()` => `#all_prod`\n  * `.max_right<f>(l)` => Unimplemented\n  * `.max_left<f>(r)` => Unimplemented\n\n## [`atcoder/lazy_seg_tree`](https://google.github.io/ac-library.cr/docs/src/lazy_seg_tree.cr) (Implements [<atcoder/lazysegtree>](https://atcoder.github.io/ac-library/document_en/lazysegtree.html))\n\n* `lazy_segtree<S, op, e, F, mapping, composition, id> seg(v)` => `AtCoder::LazySegTree(S, F).new(v, op, mapping, composition)`\n\n  単位元は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばモノイドの (単位元以外の) 元にnilを含めることはできません。 The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.\n\n  また、恒等写像は暗黙的にnilで定義されるため使用する際に定義する必要はありません。逆に言えばFの (恒等写像以外の) 元にnilを含めることはできません。 Similarly, the identity map of F will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the set F.\n\n  ```cr\n  op = ->(a : Int32, b : Int32) { [a, b].min }\n  mapping = ->(f : Int32, x : Int32) { f }\n  composition = ->(a : Int32, b : Int32) { a }\n  tree = AtCoder::LazySegTree(Int32, Int32).new((0...100).to_a, op, mapping, composition)\n  tree[10...50] #=> 10\n  tree[20...60] = 0\n  tree[50...80] #=> 0\n  ```\n\n  * `.set(p, x)` => Unimplemented\n  * `.get(p)` => `#[](p)`\n  * `.prod(l, r)` => `#[](l...r)`\n  * `.all_prod()` => `#all_prod`\n  * `.apply(p, f)` => `#[]=(p, f)`\n  * `.apply(l, r, f)` => `#[]=(l...r, f)`\n  * `.max_right<f>(l)` => Unimplemented\n  * `.max_left<f>(r)` => Unimplemented\n\n## [`atcoder/string`](https://google.github.io/ac-library.cr/docs/src/string.cr) (Implements [<atcoder/string>](https://atcoder.github.io/ac-library/document_en/string.html))\n\n* `suffix_array(s)` => Unimplemented\n* `lcp_array(s)` => Unimplemented\n* `z_algorithm(s)` => `AtCoder::String.z_algorithm(s)`\n\n## [`atcoder/dsu`](https://google.github.io/ac-library.cr/docs/src/dsu.cr) (Implements [<atcoder/dsu>](https://atcoder.github.io/ac-library/document_en/dsu.html))\n\n* `dsu(n)` => `AtCoder::DSU.new(n)`\n\n  ```cr\n  dsu = AtCoder::DSU.new(10)\n  dsu.merge(0, 2)\n  dsu.merge(4, 2)\n  dsu.same?(0, 4) #=> true\n  dsu.size(4) #=> 3\n  ```\n\n  * `.merge(a, b)` => `#merge(a, b)`\n  * `.same(a, b)` => `#same?(a, b)`\n  * `.leader(a)` => `#leader(a)`\n  * `.size()` => `#size`\n  * `.groups()` => `#groups`\n\n    * This method returns set instead of list.\n\n## [`atcoder/max_flow`](https://google.github.io/ac-library.cr/docs/src/max_flow.cr) (Implements [<atcoder/maxflow>](https://atcoder.github.io/ac-library/document_en/maxflow.html))\n\n* `mf_graph<Cap> graph(n)` => `AtCoder::MaxFlow.new(n)`\n\n  `Cap` is always `Int64`.\n\n  ```cr\n  mf = AtCoder::MaxFlow.new(3)\n  mf.add_edge(0, 1, 3)\n  mf.add_edge(1, 2, 1)\n  mf.add_edge(0, 2, 2)\n  mf.flow(0, 2) #=> 3\n  ```\n\n  * `.add_edge(from, to, cap)` => `#add_edge(from, to, cap)`\n  * `.flow(s, t)` => `#flow(s, t)`\n  * `.min_cut(s)` => Unimplemented\n  * `.get_edge(i)` => Unimplemented\n  * `.edges()` => Unimplemented\n  * `.change_edge(i, new_cap, new_flow)` => Unimplemented\n\n## [`atcoder/scc`](https://google.github.io/ac-library.cr/docs/src/scc.cr) (Impements [<atcoder/scc>](https://atcoder.github.io/ac-library/document_en/scc.html))\n\n* `scc_graph graph(n)` => `AtCoder::SCC.new(n)`\n\n  ```cr\n  scc = AtCoder::SCC.new(3_i64)\n  scc.add_edge(0, 1)\n  scc.add_edge(1, 0)\n  scc.add_edge(2, 0)\n  scc.scc #=> [Set{2}, Set{0, 1}]\n  ```\n\n  * `.add_edge(from, to)` => `#add_edge(from, to)`\n  * `.scc()` => `#scc`\n\n## [`atcoder/two_sat`](https://google.github.io/ac-library.cr/docs/src/two_sat.cr) (Implements [<atcoder/twosat>](https://atcoder.github.io/ac-library/document_en/twosat.html))\n\n* `two_sat graph(n)` => `AtCoder::SCC.new(n)`\n\n  ```cr\n  twosat = AtCoder::TwoSat.new(2_i64)\n  twosat.add_clause(0, true, 1, false)\n  twosat.add_clause(1, true, 0, false)\n  twosat.add_clause(0, false, 1, false)\n  twosat.satisfiable? #=> true\n  twosat.answer #=> [false, false]\n  ```\n\n  * `.add_clause(i, f, j, g)` => `#add_clause(i, f, j, g)`\n  * `.satisfiable()` => `#satisfiable?`\n  * `.answer()` => `#answer`\n\n    This method will raise if it's not satisfiable\n\n## [`atcoder/math`](https://google.github.io/ac-library.cr/docs/src/math.cr) (Implements [<atcoder/math>](https://atcoder.github.io/ac-library/document_en/math.html))\n\n* `pow_mod(x, n, m)` => `AtCoder::Math.pow_mod(x, n, m)`\n* `inv_mod(x, m)` => `AtCoder::Math.inv_mod(x, m)`\n* `crt(r, m)` => `AtCoder::Math.crt(r, m)`\n* `floor_sum` => `AtCoder::Math.floor_sum(n, m, a, b)`\n\n## [`atcoder/convolution`](https://google.github.io/ac-library.cr/docs/src/convolution.cr) (Implements [<atcoder/convolution>](https://atcoder.github.io/ac-library/document_en/convolution.html))\n\n* `convolution(a, b)` => `AtCoder::Convolution.convolution(a, b)`\n\n  ```cr\n  a = [AtCoder::ModInt998244353.new(1_i64)] * 3\n  AtCoder::Convolution.convolution(a, a) #=> [1, 2, 3, 2, 1]\n  ```\n\n* `convolution_ll(a, b)` => `AtCoder::Convolution.convolution_ll(a, b)`\n\n  ```cr\n  a = [1_000_000_000_i64]\n  AtCoder::Convolution.convolution_ll(a, a) #=> [1000000000000000000]\n  ```\n\n## [`atcoder/min_cost_flow`](https://google.github.io/ac-library.cr/docs/src/min_cost_flow.cr) (Implements [<atcoder/mincostflow>](https://atcoder.github.io/ac-library/document_en/mincostflow.html))\n\n* `mcf_graph graph(n)` => `AtCoder::MinCostFlow.new(n)`\n\n  ```cr\n  flow = AtCoder::MinCostFlow.new(5)\n  flow.add_edge(0, 1, 30, 3)\n  flow.add_edge(0, 2, 60, 9)\n  flow.add_edge(1, 2, 40, 5)\n  flow.add_edge(1, 3, 50, 7)\n  flow.add_edge(2, 3, 20, 8)\n  flow.add_edge(2, 4, 50, 6)\n  flow.add_edge(3, 4, 60, 7)\n  flow.flow(0, 4, 70) #=> {70, 1080}\n  ```\n\n  * `.add_edge(from, to, cap, cost)` => `#add_edge(from, to, cap, cost)`\n  * `.flow(s, t)` => `#flow(s, t)`\n  * `.flow(s, t, flow_limit)` => `#flow(s, t, flow_limit)`\n  * `.slope(s, t)` => `#slope(s, t)`\n  * `.slope(s, t, flow_limit)` => `#slope(s, t, flow_limit)`\n  * `.get_edge(i)` => Unimplemented\n  * `.edges()` => Unimplemented\n\n## [`atcoder/priority_queue`](https://google.github.io/ac-library.cr/docs/src/priority_queue.cr) (not in ACL)\n\n* `AtCoder::PriorityQueue(T).new`\n\n  ```cr\n  q = AtCoder::PriorityQueue(Int64).new\n  q << 1_i64\n  q << 3_i64\n  q << 2_i64\n  q.pop #=> 3\n  q.pop #=> 2\n  q.pop #=> 1\n  ```\n\n  * `#<<(v : T)`\n\n    Push value into the queue.\n\n  * `#pop`\n\n    Pop value from the queue.\n\n  * `#each`\n\n    Yields each item in the queue in comparator's order.\n\n    ヒープを破壊せず列挙するため、$O(n \\log{n})$ の前計算を行っています。ただし、`#first` は $O(1)$ で動作するように最適化されています。 it pre-calculates in $O(n \\log{n})$ to enumerate without destroying the heap. Note, however, that `#first` works for $O(1)$\n\n    ```cr\n    q = AtCoder::PriorityQueue.new(1..n)\n\n    # O(n log(n))\n    q.each do |x|\n      break\n    end\n\n    # O(n log(n) + n) = O(n log(n))\n    q.each do |x|\n      # something to do in O(1)\n    end\n\n    # O(1)\n    q.first # => n\n    ```\n\n\n  * `#size`\n\n    Returns size of the queue\n\n  * `#empty?`\n\n    Returns `true` if the queue is empty.\n\n## [`atcoder/prime`](https://google.github.io/ac-library.cr/docs/src/prime.cr) (not in ACL)\n\n* `AtCoder::Prime` (module)\n\n  Implements [Ruby's Prime library](https://ruby-doc.com/stdlib/libdoc/prime/rdoc/prime.html).\n\n  ```cr\n  AtCoder::Prime.first(7) # => [2, 3, 5, 7, 11, 13, 17]\n  ```\n","program":{"html_id":"atcoder/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"atcoder","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"atcoder/AtCoder","path":"AtCoder.html","kind":"module","full_name":"AtCoder","name":"AtCoder","abstract":false,"locations":[{"filename":"src/convolution.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/convolution.cr#L17"},{"filename":"src/dsu.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L17"},{"filename":"src/fenwick_tree.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L17"},{"filename":"src/graph.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L19"},{"filename":"src/lazy_seg_tree.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L17"},{"filename":"src/math.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L19"},{"filename":"src/max_flow.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L17"},{"filename":"src/min_cost_flow.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L19"},{"filename":"src/mod_int.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L19"},{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},{"filename":"src/prime.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L19"},{"filename":"src/priority_queue.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L17"},{"filename":"src/red_black_tree.cr","line_number":25,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L25"},{"filename":"src/scc.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L17"},{"filename":"src/seg_tree.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L17"},{"filename":"src/skew_heap.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L17"},{"filename":"src/string.cr","line_number":17,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/string.cr#L17"},{"filename":"src/two_sat.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L19"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"macros":[{"html_id":"static_modint(name,modulo)-macro","name":"static_modint","doc":"Implements [atcoder::static_modint](https://atcoder.github.io/ac-library/master/document_en/modint.html).\n\n```\nAtCoder.static_modint(ModInt101, 101_i64)\nalias Mint = AtCoder::ModInt101\nMint.new(80_i64) + Mint.new(90_i64) # => 89\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/modint.html\">atcoder::static_modint</a>.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"args_string":"(name, modulo)","args_html":"(name, modulo)","location":{"filename":"src/mod_int.cr","line_number":27,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L27"},"def":{"name":"static_modint","args":[{"name":"name","external_name":"name","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"visibility":"Public","body":"    module AtCoder\n      \n# Implements atcoder::modint\n{{ modulo }}\n.\n\n      \n#\n\n      \n# ```\n\n      \n# alias Mint = AtCoder::\n{{ name }}\n\n\n      \n# Mint.new(30_i64) // Mint.new(7_i64)\n\n      \n# ```\n\n      struct \n{{ name }}\n\n        MOD = \n{{ modulo }}\n\n\n        getter value : Int64\n\n        def initialize(value)\n          @value = value.to_i64 % MOD\n        \nend\n\n        \n# Change the initial capacity of this array to improve performance\n\n        @@factorials = Array(self).new(100_000_i64)\n\n        def self.factorial(n)\n          if @@factorials.empty?\n            @@factorials << self.new(1_i64)\n          \nend\n          @@factorials.size.upto(n) do |i|\n            @@factorials << @@factorials.last * i\n          \nend\n          @@factorials[n]\n        \nend\n\n        def self.permutation(n, k)\n          raise ArgumentError.new(\"k cannot be greater than n\") unless n >= k\n          factorial(n) // factorial(n - k)\n        \nend\n\n        def self.combination(n, k)\n          raise ArgumentError.new(\"k cannot be greater than n\") unless n >= k\n          permutation(n, k) // @@factorials[k]\n        \nend\n\n        def self.repeated_combination(n, k)\n          combination(n + k - 1, k)\n        \nend\n\n        def self.zero\n          self.new(0_i64)\n        \nend\n\n        def inv\n          g, x = AtCoder::Math.extended_gcd(@value, MOD)\n          self.class.new(x)\n        \nend\n\n        def +(value)\n          self.class.new(@value + value.to_i64 % MOD)\n        \nend\n\n        def -(value)\n          self.class.new(@value - value.to_i64 % MOD)\n        \nend\n\n        def *(value)\n          self.class.new(@value * (value.to_i64 % MOD))\n        \nend\n\n        def /(value : self)\n          raise DivisionByZeroError.new if value == 0\n          self * value.inv\n        \nend\n\n        def /(value)\n          raise DivisionByZeroError.new if value == 0\n          self * self.class.new(value.to_i64).inv\n        \nend\n\n        def //(value)\n          self./(value)\n        \nend\n\n        def **(value)\n          self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))\n        \nend\n\n        def <<(value)\n          self * self.class.new(2_i64) ** value\n        \nend\n\n        def sqrt\n          z = self.class.new(1_i64)\n          until z ** ((MOD - 1) // 2) == MOD - 1\n            z += 1\n          \nend\n          q = MOD - 1\n          m = 0\n          while q % 2 == 0\n            q //= 2\n            m += 1\n          \nend\n          c = z ** q\n          t = self ** q\n          r = self ** ((q + 1) // 2)\n          m.downto(2) do |i|\n            tmp = t ** (2 ** (i - 2))\n            if tmp != 1\n              r *= c\n              t *= c ** 2\n            \nend\n            c *= c\n          \nend\n          if r * r == self\n            r.to_i64 * 2 <= MOD ? r : -r\n          \nelse\n            nil\n          \nend\n        \nend\n\n        def to_i64\n          @value\n        \nend\n\n        def ==(value : self)\n          @value == value.to_i64\n        \nend\n\n        def ==(value)\n          @value == value\n        \nend\n\n        def -\n          self.class.new(0_i64) - self\n        \nend\n\n        def +\n          self\n        \nend\n\n        def abs\n          self\n        \nend\n\n        \n# ac-library compatibility\n\n\n        def pow(value)\n          self.**(value)\n        \nend\n\n        def val\n          self.to_i64\n        \nend\n\n        \n# ModInt shouldn't be compared\n\n\n        def <(value)\n          raise NotImplementedError.new(\"<\")\n        \nend\n        def <=(value)\n          raise NotImplementedError.new(\"<=\")\n        \nend\n        def >(value)\n          raise NotImplementedError.new(\">\")\n        \nend\n        def >=(value)\n          raise NotImplementedError.new(\">=\")\n        \nend\n\n        delegate to_s, to: @value\n        delegate inspect, to: @value\n      \nend\n    \nend\n\n    struct Int\n      def +(value : AtCoder::\n{{ name }}\n)\n        value + self\n      \nend\n\n      def -(value : AtCoder::\n{{ name }}\n)\n        -value + self\n      \nend\n\n      def *(value : AtCoder::\n{{ name }}\n)\n        value * self\n      \nend\n\n      def //(value : AtCoder::\n{{ name }}\n)\n        value.inv * self\n      \nend\n\n      def /(value : AtCoder::\n{{ name }}\n)\n        self // value\n      \nend\n\n      def ==(value : AtCoder::\n{{ name }}\n)\n        value == self\n      \nend\n    \nend\n  \n"}}],"types":[{"html_id":"atcoder/AtCoder/Convolution","path":"AtCoder/Convolution.html","kind":"module","full_name":"AtCoder::Convolution","name":"Convolution","abstract":false,"locations":[{"filename":"src/convolution.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/convolution.cr#L24"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::convolution](https://atcoder.github.io/ac-library/master/document_en/convolution.html).\n\n```\na = [AtCoder::ModInt998244353.new(1_i64)] * 3\nAtCoder::Convolution.convolution(a, a) # => [1, 2, 3, 2, 1]\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/convolution.html\">atcoder::convolution</a>.</p>","class_methods":[{"html_id":"convolution(a:Array(T),b:Array(T))forallT-class-method","name":"convolution","doc":"Implements atcoder::convolution.convolution.\nTODO: Support for int","summary":"<p>Implements atcoder::convolution.convolution.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"b","external_name":"b","restriction":"Array(T)"}],"args_string":"(a : Array(T), b : Array(T)) forall T","args_html":"(a : Array(T), b : Array(T)) forall T","location":{"filename":"src/convolution.cr","line_number":74,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/convolution.cr#L74"},"def":{"name":"convolution","args":[{"name":"a","external_name":"a","restriction":"Array(T)"},{"name":"b","external_name":"b","restriction":"Array(T)"}],"visibility":"Public","body":"if a.empty? || b.empty?\n  return [] of T\nend\nmodulo = T::MOD\nn = modulo - 1\nresult_size = (a.size + b.size) - 1\nc = 1_i64 << n.trailing_zeros_count\nif result_size > c\n  raise(ArgumentError.new(\"With modulo #{modulo}, total array length must be less than or equal to #{c}\"))\nend\nfft_size = 1_i64\nwhile !fft_size >= result_size\n  fft_size = fft_size << 1\nend\ninput_a = Array(T).new(fft_size) do |i|\n  i < a.size ? a[i] : T.zero\nend\ninput_b = Array(T).new(fft_size) do |i|\n  i < b.size ? b[i] : T.zero\nend\nprimitive_root = AtCoder::Math.get_primitive_root(modulo)\ng = (T.new(primitive_root)) ** (n // fft_size)\nfft(input_a, g)\nfft(input_b, g)\nfft_size.times do |i|\n  __temp_43 = i\n  input_a[__temp_43] = input_a[__temp_43] * input_b[i]\nend\nifft(input_a, g)\ninput_a[0...result_size]\n"}},{"html_id":"convolution_ll(a:Array(Int64),b:Array(Int64))-class-method","name":"convolution_ll","doc":"Implements atcoder::convolution.convolution_ll.","summary":"<p>Implements atcoder::convolution.convolution_ll.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Array(Int64)"},{"name":"b","external_name":"b","restriction":"Array(Int64)"}],"args_string":"(a : Array(Int64), b : Array(Int64))","args_html":"(a : Array(Int64), b : Array(Int64))","location":{"filename":"src/convolution.cr","line_number":111,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/convolution.cr#L111"},"def":{"name":"convolution_ll","args":[{"name":"a","external_name":"a","restriction":"Array(Int64)"},{"name":"b","external_name":"b","restriction":"Array(Int64)"}],"visibility":"Public","body":"if a.empty? || b.empty?\n  return [] of Int64\nend\na1 = a.map do |n|\n  AtCoder::ModInt754974721.new(n)\nend\na2 = a.map do |n|\n  AtCoder::ModInt167772161.new(n)\nend\na3 = a.map do |n|\n  AtCoder::ModInt469762049.new(n)\nend\nb1 = b.map do |n|\n  AtCoder::ModInt754974721.new(n)\nend\nb2 = b.map do |n|\n  AtCoder::ModInt167772161.new(n)\nend\nb3 = b.map do |n|\n  AtCoder::ModInt469762049.new(n)\nend\nc1 = convolution(a1, b1)\nc2 = convolution(a2, b2)\nc3 = convolution(a3, b3)\nm1 = 754974721_i64\nm2 = 167772161_i64\nm3 = 469762049_i64\n(c1.zip(c2, c3)).map do |n1, n2, n3|\n  p = AtCoder::Math.inv_mod(m1, m2)\n  tmp = ((n2.val - n1.val) * p) % m2\n  answer = n1.val + (m1 * tmp)\n  p = AtCoder::Math.inv_mod(m1 * m2, m3)\n  tmp = (((n3.val - answer) % m3) * p) % m3\n  answer + ((m1 * m2) * tmp)\nend\n"}}]},{"html_id":"atcoder/AtCoder/DirectedGraph","path":"AtCoder/DirectedGraph.html","kind":"class","full_name":"AtCoder::DirectedGraph(NodeInfo, EdgeInfo)","name":"DirectedGraph","abstract":false,"superclass":{"html_id":"atcoder/AtCoder/Graph","kind":"class","full_name":"AtCoder::Graph","name":"Graph"},"ancestors":[{"html_id":"atcoder/AtCoder/Graph","kind":"class","full_name":"AtCoder::Graph","name":"Graph"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":116,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L116"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new(nodes:Array(NodeInfo))-class-method","name":"new","abstract":false,"args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"args_string":"(nodes : Array(NodeInfo))","args_html":"(nodes : Array(NodeInfo))","location":{"filename":"src/graph.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L24"},"def":{"name":"new","args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"visibility":"Public","body":"_ = DirectedGraph(NodeInfo, EdgeInfo).allocate\n_.initialize(nodes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(size:Int64,initial_node:NodeInfo=nil)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"args_string":"(size : Int64, initial_node : NodeInfo = nil)","args_html":"(size : Int64, initial_node : NodeInfo = <span class=\"n\">nil</span>)","location":{"filename":"src/graph.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L32"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"visibility":"Public","body":"_ = DirectedGraph(NodeInfo, EdgeInfo).allocate\n_.initialize(size, initial_node)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(from,to,edge:EdgeInfo=1_i64)-instance-method","name":"add_edge","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"args_string":"(from, to, edge : EdgeInfo = 1_i64)","args_html":"(from, to, edge : EdgeInfo = <span class=\"n\">1_i64</span>)","location":{"filename":"src/graph.cr","line_number":117,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L117"},"def":{"name":"add_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"visibility":"Public","body":"@edges << edge\nedge_id = @edges.size.to_i64 - 1\n@adjacencies[from][to.to_i64] = edge_id\nedge_id\n"}},{"html_id":"get_edge(from,to)-instance-method","name":"get_edge","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/graph.cr","line_number":124,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L124"},"def":{"name":"get_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"edge_id = @adjacencies[from][to.to_i64]\n@edges[edge_id]\n"}},{"html_id":"update_edge(from,to,edge:EdgeInfo=1_i64)-instance-method","name":"update_edge","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"args_string":"(from, to, edge : EdgeInfo = 1_i64)","args_html":"(from, to, edge : EdgeInfo = <span class=\"n\">1_i64</span>)","location":{"filename":"src/graph.cr","line_number":129,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L129"},"def":{"name":"update_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"visibility":"Public","body":"edge_id = @adjacencies[from][to.to_i64]\n@edges[edge_id] = edge\nedge_id\n"}}]},{"html_id":"atcoder/AtCoder/DSU","path":"AtCoder/DSU.html","kind":"class","full_name":"AtCoder::DSU","name":"DSU","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dsu.cr","line_number":27,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L27"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::dsu](https://atcoder.github.io/ac-library/master/document_en/dsu.html).\n\n```\ndsu = AtCoder::DSU.new(10)\ndsu.merge(0, 2)\ndsu.merge(4, 2)\ndsu.same?(0, 4) # => true\ndsu.size(4)     # => 3\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/dsu.html\">atcoder::dsu</a>.</p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/dsu.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L32"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"groups-instance-method","name":"groups","doc":"Implements atcoder::dsu.groups().\nThis method returns `Set` instead of list.","summary":"<p>Implements atcoder::dsu.groups().</p>","abstract":false,"location":{"filename":"src/dsu.cr","line_number":71,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L71"},"def":{"name":"groups","visibility":"Public","body":"groups = Hash(Int64, Set(Int64)).new do |h, k|\n  h[k] = Set(Int64).new\nend\n@size.times do |i|\n  groups[leader(i)] << i\nend\ngroups.values.to_set\n"}},{"html_id":"leader(node)-instance-method","name":"leader","doc":"Implements atcoder::dsu.leader(node).","summary":"<p>Implements atcoder::dsu.leader(node).</p>","abstract":false,"args":[{"name":"node","external_name":"node","restriction":""}],"args_string":"(node)","args_html":"(node)","location":{"filename":"src/dsu.cr","line_number":38,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L38"},"def":{"name":"leader","args":[{"name":"node","external_name":"node","restriction":""}],"visibility":"Public","body":"while !(@parents[node] == node)\n  @parents[node] = @parents[@parents[node]]\n  node = @parents[node]\nend\nnode\n"}},{"html_id":"merge(a,b)-instance-method","name":"merge","doc":"Implements atcoder::dsu.merge(a, b).","summary":"<p>Implements atcoder::dsu.merge(a, b).</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/dsu.cr","line_number":47,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L47"},"def":{"name":"merge","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"leader_a = leader(a.to_i64)\nleader_b = leader(b.to_i64)\nif leader_a == leader_b\nelse\n  if @sizes[leader_a] < @sizes[leader_b]\n    leader_a, leader_b = leader_b, leader_a\n  end\n  @parents[leader_b] = leader_a\n  __temp_45 = leader_a\n  @sizes[__temp_45] = @sizes[__temp_45] + @sizes[leader_b]\nend\n"}},{"html_id":"parents:Array(Int64)-instance-method","name":"parents","abstract":false,"location":{"filename":"src/dsu.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L28"},"def":{"name":"parents","return_type":"Array(Int64)","visibility":"Public","body":"@parents"}},{"html_id":"same?(a,b)-instance-method","name":"same?","doc":"Implements atcoder::dsu.same(a, b).","summary":"<p>Implements atcoder::dsu.same(a, b).</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/dsu.cr","line_number":60,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L60"},"def":{"name":"same?","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"(leader(a)) == (leader(b))"}},{"html_id":"size(node)-instance-method","name":"size","doc":"Implements atcoder::dsu.size().","summary":"<p>Implements atcoder::dsu.size().</p>","abstract":false,"args":[{"name":"node","external_name":"node","restriction":""}],"args_string":"(node)","args_html":"(node)","location":{"filename":"src/dsu.cr","line_number":65,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L65"},"def":{"name":"size","args":[{"name":"node","external_name":"node","restriction":""}],"visibility":"Public","body":"@sizes[leader(node)]"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/dsu.cr","line_number":30,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L30"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}},{"html_id":"sizes:Array(Int64)-instance-method","name":"sizes","abstract":false,"location":{"filename":"src/dsu.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/dsu.cr#L29"},"def":{"name":"sizes","return_type":"Array(Int64)","visibility":"Public","body":"@sizes"}}]},{"html_id":"atcoder/AtCoder/FenwickTree","path":"AtCoder/FenwickTree.html","kind":"class","full_name":"AtCoder::FenwickTree(T)","name":"FenwickTree","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/fenwick_tree.cr","line_number":27,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L27"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::fenwick_tree](https://atcoder.github.io/ac-library/master/document_en/fenwicktree.html).\n\n```\ntree = AtCoder::FenwickTree(Int64).new(10)\ntree.add(3, 10)\ntree.add(5, 20)\ntree[3..5]  # => 30\ntree[3...5] # => 10\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/fenwicktree.html\">atcoder::fenwick_tree</a>.</p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/fenwick_tree.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L31"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"}],"visibility":"Public","body":"_ = FenwickTree(T).allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(bits:Array)-class-method","name":"new","abstract":false,"args":[{"name":"bits","external_name":"bits","restriction":"Array"}],"args_string":"(bits : Array)","args_html":"(bits : Array)","location":{"filename":"src/fenwick_tree.cr","line_number":35,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L35"},"def":{"name":"new","args":[{"name":"bits","external_name":"bits","restriction":"Array"}],"visibility":"Public","body":"_ = FenwickTree(T).allocate\n_.initialize(bits)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](range:Range(Int,Int))-instance-method","name":"[]","doc":"Implements atcoder::fenwick_tree.sum(left, right)","summary":"<p>Implements atcoder::fenwick_tree.sum(left, right)</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(range : Range(Int, Int))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/fenwick_tree.cr","line_number":71,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L71"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"left = range.begin\nright = range.exclusive? ? range.end : range.end + 1\nsum(left, right)\n"}},{"html_id":"add(index,value)-instance-method","name":"add","doc":"Implements atcoder::fenwick_tree.add(index, value)","summary":"<p>Implements atcoder::fenwick_tree.add(index, value)</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(index, value)","args_html":"(index, value)","location":{"filename":"src/fenwick_tree.cr","line_number":47,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L47"},"def":{"name":"add","args":[{"name":"index","external_name":"index","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"index = index + 1\nwhile index <= @size\n  __temp_49 = index - 1\n  @bits[__temp_49] = @bits[__temp_49] + value\n  index = index + (index & (-index))\nend\n"}},{"html_id":"bits:Array(T)-instance-method","name":"bits","abstract":false,"location":{"filename":"src/fenwick_tree.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L29"},"def":{"name":"bits","return_type":"Array(T)","visibility":"Public","body":"@bits"}},{"html_id":"left_sum(index)-instance-method","name":"left_sum","doc":"Exclusive left sum","summary":"<p>Exclusive left sum</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""}],"args_string":"(index)","args_html":"(index)","location":{"filename":"src/fenwick_tree.cr","line_number":56,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L56"},"def":{"name":"left_sum","args":[{"name":"index","external_name":"index","restriction":""}],"visibility":"Public","body":"ret = T.zero\nwhile index >= 1\n  ret = ret + @bits[index - 1]\n  index = index - (index & (-index))\nend\nret\n"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/fenwick_tree.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L28"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}},{"html_id":"sum(left,right)-instance-method","name":"sum","doc":"Implements atcoder::fenwick_tree.sum(left, right)","summary":"<p>Implements atcoder::fenwick_tree.sum(left, right)</p>","abstract":false,"args":[{"name":"left","external_name":"left","restriction":""},{"name":"right","external_name":"right","restriction":""}],"args_string":"(left, right)","args_html":"(left, right)","location":{"filename":"src/fenwick_tree.cr","line_number":66,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/fenwick_tree.cr#L66"},"def":{"name":"sum","args":[{"name":"left","external_name":"left","restriction":""},{"name":"right","external_name":"right","restriction":""}],"visibility":"Public","body":"(left_sum(right)) - (left_sum(left))"}}]},{"html_id":"atcoder/AtCoder/Graph","path":"AtCoder/Graph.html","kind":"class","full_name":"AtCoder::Graph(NodeInfo, EdgeInfo)","name":"Graph","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":20,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L20"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"atcoder/AtCoder/DirectedGraph","kind":"class","full_name":"AtCoder::DirectedGraph(NodeInfo, EdgeInfo)","name":"DirectedGraph"},{"html_id":"atcoder/AtCoder/UndirectedGraph","kind":"class","full_name":"AtCoder::UndirectedGraph(NodeInfo, EdgeInfo)","name":"UndirectedGraph"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new(nodes:Array(NodeInfo))-class-method","name":"new","abstract":false,"args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"args_string":"(nodes : Array(NodeInfo))","args_html":"(nodes : Array(NodeInfo))","location":{"filename":"src/graph.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L24"},"def":{"name":"new","args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"visibility":"Public","body":"_ = Graph(NodeInfo, EdgeInfo).allocate\n_.initialize(nodes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(size:Int64,initial_node:NodeInfo=nil)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"args_string":"(size : Int64, initial_node : NodeInfo = nil)","args_html":"(size : Int64, initial_node : NodeInfo = <span class=\"n\">nil</span>)","location":{"filename":"src/graph.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L32"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"visibility":"Public","body":"_ = Graph(NodeInfo, EdgeInfo).allocate\n_.initialize(size, initial_node)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"dfs(node:Int64,initial_value:T,&block:Int64,T,NamedTuple(node:Int64,node_info:NodeInfo|Nil,edge:Int64|Nil,edge_info:EdgeInfo|Nil,parent:Int64),T->->)forallT-instance-method","name":"dfs","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Int64"},{"name":"initial_value","external_name":"initial_value","restriction":"T"}],"args_string":"(node : Int64, initial_value : T, &block : Int64, T, NamedTuple(node: Int64, node_info: NodeInfo | Nil, edge: Int64 | Nil, edge_info: EdgeInfo | Nil, parent: Int64), T ->  -> ) forall T","args_html":"(node : Int64, initial_value : T, &block : Int64, T, NamedTuple(node: Int64, node_info: NodeInfo | Nil, edge: Int64 | Nil, edge_info: EdgeInfo | Nil, parent: Int64), T ->  -> ) forall T","location":{"filename":"src/graph.cr","line_number":72,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L72"},"def":{"name":"dfs","args":[{"name":"node","external_name":"node","restriction":"Int64"},{"name":"initial_value","external_name":"initial_value","restriction":"T"}],"yields":4,"block_arity":4,"block_arg":{"name":"block","external_name":"block","restriction":"(Int64, T, NamedTuple(node: Int64, node_info: NodeInfo | Nil, edge: Int64 | Nil, edge_info: EdgeInfo | Nil, parent: Int64), (T ->) ->)"},"visibility":"Public","body":"@visited = Set(Int64).new\ninfo = {node: node, node_info: @nodes[node].as(NodeInfo | Nil), edge: nil.as(Int64 | Nil), edge_info: nil.as(EdgeInfo | Nil), parent: -1_i64}\nblock.call(node, initial_value, info, ->(new_value : T) do\n  dfs(node, -1_i64, new_value, &block)\nend)\n"}},{"html_id":"dijkstra(start_node)-instance-method","name":"dijkstra","doc":"Performs Dijkstra's Algorithm to calculate the distance of each node from `start_node`.\nTo use this method, `EdgeInfo` must implement `.zero` and `#+(EdgeInfo)` and `#>(EdgeInfo)`.","summary":"<p>Performs Dijkstra's Algorithm to calculate the distance of each node from <code>start_node</code>.</p>","abstract":false,"args":[{"name":"start_node","external_name":"start_node","restriction":""}],"args_string":"(start_node)","args_html":"(start_node)","location":{"filename":"src/graph.cr","line_number":42,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L42"},"def":{"name":"dijkstra","args":[{"name":"start_node","external_name":"start_node","restriction":""}],"visibility":"Public","body":"dist = Array(EdgeInfo | Nil).new(@size, nil)\ndist[start_node] = EdgeInfo.zero\nprev_nodes = Array(Int64 | Nil).new(@size, nil)\nqueue = AtCoder::PriorityQueue(::Tuple(EdgeInfo, Int64)).new do |__arg0, __arg1|\n  ad = __arg0[0]\n  av = __arg0[1]\n  bd = __arg1[0]\n  bv = __arg1[1]\n  ad > bd\nend\nqueue << {EdgeInfo.zero, start_node.to_i64}\nwhile !queue.empty?\n  d, v = queue.pop.not_nil!\n  current_dist = dist[v].not_nil!\n  if d > current_dist\n    next\n  end\n  @adjacencies[v].each do |__arg2|\n    to = __arg2[0]\n    edge_id = __arg2[1]\n    cost = @edges[edge_id]\n    target_dist = dist[to]\n    if target_dist.nil? || target_dist > (current_dist + cost)\n      dist[to] = current_dist + cost\n      prev_nodes[to] = v\n      queue << {current_dist + cost, to}\n    end\n  end\nend\nArray(::NamedTuple(dist: EdgeInfo | Nil, prev: Int64 | Nil)).new(@size) do |i|\n  {dist: dist[i], prev: prev_nodes[i]}\nend\n"}},{"html_id":"visited:Set(Int64)-instance-method","name":"visited","abstract":false,"location":{"filename":"src/graph.cr","line_number":22,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L22"},"def":{"name":"visited","return_type":"Set(Int64)","visibility":"Public","body":"@visited"}}]},{"html_id":"atcoder/AtCoder/LazySegTree","path":"AtCoder/LazySegTree.html","kind":"class","full_name":"AtCoder::LazySegTree(S, F)","name":"LazySegTree","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lazy_seg_tree.cr","line_number":37,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L37"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::lazy_segtree](https://atcoder.github.io/ac-library/master/document_en/lazysegtree.html).\n\nThe identity element will be implicitly defined as nil, so you don't\nhave to manually define it. In the other words, you cannot include\nnil into an element of the monoid.\n\nSimilarly, the identity map of F will be implicitly defined as nil,\nso you don't have to manually define it. In the other words, you\ncannot include nil into an element of the set F.\n\n```\nop = ->(a : Int32, b : Int32) { [a, b].min }\nmapping = ->(f : Int32, x : Int32) { f }\ncomposition = ->(a : Int32, b : Int32) { a }\ntree = AtCoder::LazySegTree(Int32, Int32).new((0...100).to_a, op, mapping, composition)\ntree[10...50] # => 10\ntree[20...60] = 0\ntree[50...80] # => 0\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/lazysegtree.html\">atcoder::lazy_segtree</a>.</p>","constructors":[{"html_id":"new(values:Array(S),operator:S,S->S,application:F,S->S,composition:F,F->F)-class-method","name":"new","abstract":false,"args":[{"name":"values","external_name":"values","restriction":"Array(S)"},{"name":"operator","external_name":"operator","restriction":"(S, S -> S)"},{"name":"application","external_name":"application","restriction":"(F, S -> S)"},{"name":"composition","external_name":"composition","restriction":"(F, F -> F)"}],"args_string":"(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)","args_html":"(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)","location":{"filename":"src/lazy_seg_tree.cr","line_number":40,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L40"},"def":{"name":"new","args":[{"name":"values","external_name":"values","restriction":"Array(S)"},{"name":"operator","external_name":"operator","restriction":"(S, S -> S)"},{"name":"application","external_name":"application","restriction":"(F, S -> S)"},{"name":"composition","external_name":"composition","restriction":"(F, F -> F)"}],"visibility":"Public","body":"_ = LazySegTree(S, F).allocate\n_.initialize(values, operator, application, composition)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](index:Int)-instance-method","name":"[]","doc":"Implements atcoder::lazy_segtree.get(index).","summary":"<p>Implements atcoder::lazy_segtree.get(index).</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int)","args_html":"(index : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/lazy_seg_tree.cr","line_number":85,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L85"},"def":{"name":"[]","args":[{"name":"index","external_name":"index","restriction":"Int"}],"visibility":"Public","body":"(get_range(index, index + 1, 0, 0...(@segments.size + 1))).not_nil!"}},{"html_id":"[](range:Range(Int,Int))-instance-method","name":"[]","doc":"Implements atcoder::lazy_segtree.prod(left, right).","summary":"<p>Implements atcoder::lazy_segtree.prod(left, right).</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(range : Range(Int, Int))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/lazy_seg_tree.cr","line_number":90,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L90"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"l = range.begin\nr = range.exclusive? ? range.end : range.end + 1\n(get_range(l, r, 0, 0...(@segments.size + 1))).not_nil!\n"}},{"html_id":"[]=(index:Int,applicator:F)-instance-method","name":"[]=","doc":"Implements atcoder::lazy_segtree.apply(index, applicator).","summary":"<p>Implements atcoder::lazy_segtree.apply(index, applicator).</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"applicator","external_name":"applicator","restriction":"F"}],"args_string":"(index : Int, applicator : F)","args_html":"(index : <a href=\"../Int.html\">Int</a>, applicator : F)","location":{"filename":"src/lazy_seg_tree.cr","line_number":71,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L71"},"def":{"name":"[]=","args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"applicator","external_name":"applicator","restriction":"F"}],"visibility":"Public","body":"apply_range(index, index + 1, applicator, 0, 0...(@segments.size + 1))\napplicator\n"}},{"html_id":"[]=(range:Range(Int,Int),applicator:F)-instance-method","name":"[]=","doc":"Implements atcoder::lazy_segtree.apply(left, right, applicator).","summary":"<p>Implements atcoder::lazy_segtree.apply(left, right, applicator).</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"},{"name":"applicator","external_name":"applicator","restriction":"F"}],"args_string":"(range : Range(Int, Int), applicator : F)","args_html":"(range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>), applicator : F)","location":{"filename":"src/lazy_seg_tree.cr","line_number":77,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L77"},"def":{"name":"[]=","args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"},{"name":"applicator","external_name":"applicator","restriction":"F"}],"visibility":"Public","body":"l = range.begin\nr = range.exclusive? ? range.end : range.end + 1\napply_range(l, r, applicator, 0, 0...(@segments.size + 1))\napplicator\n"}},{"html_id":"all_prod-instance-method","name":"all_prod","doc":"Implements atcoder::lazy_segtree.all_prod().","summary":"<p>Implements atcoder::lazy_segtree.all_prod().</p>","abstract":false,"location":{"filename":"src/lazy_seg_tree.cr","line_number":214,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L214"},"def":{"name":"all_prod","visibility":"Public","body":"self[0...@values.size]"}},{"html_id":"apply_range(a:Int,b:Int,f:F,segment_index:Int,range:Range(Int,Int))-instance-method","name":"apply_range","doc":"Applies applicator `f` onto segment, whose range is `range`. `range` is exclusive here.","summary":"<p>Applies applicator <code>f</code> onto segment, whose range is <code>range</code>.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"f","external_name":"f","restriction":"F"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(a : Int, b : Int, f : F, segment_index : Int, range : Range(Int, Int))","args_html":"(a : <a href=\"../Int.html\">Int</a>, b : <a href=\"../Int.html\">Int</a>, f : F, segment_index : <a href=\"../Int.html\">Int</a>, range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/lazy_seg_tree.cr","line_number":152,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L152"},"def":{"name":"apply_range","args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"f","external_name":"f","restriction":"F"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"if segment_index >= (@segments.size + @values.size)\n  return nil\nend\nif segment_index < @segments.size\n  eval_segment(segment_index, range)\nend\nif range.end <= a || b <= range.begin\n  if segment_index < @segments.size\n    return @segments[segment_index]\n  else\n    return @values[segment_index - @segments.size]\n  end\nend\nif a <= range.begin && range.end <= b\n  if segment_index < @segments.size\n    @applicators[segment_index] = compose(@applicators[segment_index], f)\n    eval_segment(segment_index, range)\n    return @segments[segment_index]\n  else\n    @values[segment_index - @segments.size] = apply(f, @values[segment_index - @segments.size])\n    return @values[segment_index - @segments.size]\n  end\nend\nrange_median = (range.begin + range.end) // 2\nchild1 = apply_range(a, b, f, (segment_index * 2) + 1, range.begin...range_median)\nchild2 = apply_range(a, b, f, (segment_index * 2) + 2, range_median...range.end)\n@segments[segment_index] = operate(child1, child2)\n@segments[segment_index]\n"}},{"html_id":"eval_segment(segment_index:Int,range:Range(Int,Int))-instance-method","name":"eval_segment","doc":"Evaluates segment, whose range is `range`. `range` is exclusive here.\n\nPreconditions:\n* segment_index < @segments.size\n* range.end - range.begin > 1","summary":"<p>Evaluates segment, whose range is <code>range</code>.</p>","abstract":false,"args":[{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(segment_index : Int, range : Range(Int, Int))","args_html":"(segment_index : <a href=\"../Int.html\">Int</a>, range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/lazy_seg_tree.cr","line_number":134,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L134"},"def":{"name":"eval_segment","args":[{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"applicator = @applicators[segment_index]\nif applicator.nil?\n  return\nend\n@segments[segment_index] = apply(applicator, @segments[segment_index])\nif (range.end - range.begin) > 2\n  @applicators[(segment_index * 2) + 1] = compose(applicator, @applicators[(segment_index * 2) + 1])\n  @applicators[(segment_index * 2) + 2] = compose(applicator, @applicators[(segment_index * 2) + 2])\nelse\n  @values[((segment_index * 2) + 1) - @segments.size] = apply(applicator, @values[((segment_index * 2) + 1) - @segments.size])\n  @values[((segment_index * 2) + 2) - @segments.size] = apply(applicator, @values[((segment_index * 2) + 2) - @segments.size])\nend\n@applicators[segment_index] = nil\n"}},{"html_id":"get_range(a:Int,b:Int,segment_index:Int,range:Range(Int,Int))-instance-method","name":"get_range","doc":"Gets evaluated value of a segment, whose range is `range`. `range` is exclusive here.","summary":"<p>Gets evaluated value of a segment, whose range is <code>range</code>.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(a : Int, b : Int, segment_index : Int, range : Range(Int, Int))","args_html":"(a : <a href=\"../Int.html\">Int</a>, b : <a href=\"../Int.html\">Int</a>, segment_index : <a href=\"../Int.html\">Int</a>, range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/lazy_seg_tree.cr","line_number":189,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L189"},"def":{"name":"get_range","args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"if range.end <= a || b <= range.begin\n  return nil\nend\nif segment_index < @segments.size\n  eval_segment(segment_index, range)\nend\nif a <= range.begin && range.end <= b\n  if segment_index < @segments.size\n    return @segments[segment_index]\n  else\n    return @values[segment_index - @segments.size]\n  end\nend\nrange_median = (range.begin + range.end) // 2\nchild1 = get_range(a, b, (segment_index * 2) + 1, range.begin...range_median)\nchild2 = get_range(a, b, (segment_index * 2) + 2, range_median...range.end)\noperate(child1, child2)\n"}},{"html_id":"max_left-instance-method","name":"max_left","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/lazy_seg_tree.cr","line_number":224,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L224"},"def":{"name":"max_left","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"max_right-instance-method","name":"max_right","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/lazy_seg_tree.cr","line_number":219,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L219"},"def":{"name":"max_right","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"set-instance-method","name":"set","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/lazy_seg_tree.cr","line_number":66,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L66"},"def":{"name":"set","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"values:Array(S|Nil)-instance-method","name":"values","abstract":false,"location":{"filename":"src/lazy_seg_tree.cr","line_number":38,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/lazy_seg_tree.cr#L38"},"def":{"name":"values","return_type":"Array(S | Nil)","visibility":"Public","body":"@values"}}]},{"html_id":"atcoder/AtCoder/Math","path":"AtCoder/Math.html","kind":"module","full_name":"AtCoder::Math","name":"Math","abstract":false,"locations":[{"filename":"src/math.cr","line_number":21,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L21"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [ACL's Math library](https://atcoder.github.io/ac-library/master/document_en/math.html)","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/math.html\">ACL's Math library</a></p>","class_methods":[{"html_id":"crt(remainders,modulos)-class-method","name":"crt","doc":"Implements atcoder::crt(remainders, modulos).","summary":"<p>Implements atcoder::crt(remainders, modulos).</p>","abstract":false,"args":[{"name":"remainders","external_name":"remainders","restriction":""},{"name":"modulos","external_name":"modulos","restriction":""}],"args_string":"(remainders, modulos)","args_html":"(remainders, modulos)","location":{"filename":"src/math.cr","line_number":110,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L110"},"def":{"name":"crt","args":[{"name":"remainders","external_name":"remainders","restriction":""},{"name":"modulos","external_name":"modulos","restriction":""}],"visibility":"Public","body":"if remainders.size == modulos.size\nelse\n  raise(ArgumentError.new)\nend\ntotal_modulo = 1_i64\nanswer = 0_i64\n(remainders.zip(modulos)).each do |__arg0|\n  remainder = __arg0[0]\n  modulo = __arg0[1]\n  gcd, p = extended_gcd(total_modulo, modulo)\n  if ((remainder - answer) % gcd) != 0\n    return {0_i64, 0_i64}\n  end\n  tmp = (((remainder - answer) // gcd) * p) % (modulo // gcd)\n  answer = answer + (total_modulo * tmp)\n  total_modulo = total_modulo * (modulo // gcd)\nend\nreturn {answer % total_modulo, total_modulo}\n"}},{"html_id":"extended_gcd(a,b)-class-method","name":"extended_gcd","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/math.cr","line_number":22,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L22"},"def":{"name":"extended_gcd","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"last_remainder, remainder = a.abs, b.abs\nx, last_x, y, last_y = 0_i64, 1_i64, 1_i64, 0_i64\nwhile remainder != 0\n  new_last_remainder = remainder\n  quotient, remainder = last_remainder.divmod(remainder)\n  last_remainder = new_last_remainder\n  x, last_x = last_x - (quotient * x), x\n  y, last_y = last_y - (quotient * y), y\nend\nreturn {last_remainder, last_x * (a < 0 ? -1 : 1)}\n"}},{"html_id":"floor_sum(n,m,a,b)-class-method","name":"floor_sum","doc":"Implements atcoder::floor_sum(n, m, a, b).","summary":"<p>Implements atcoder::floor_sum(n, m, a, b).</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"m","external_name":"m","restriction":""},{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(n, m, a, b)","args_html":"(n, m, a, b)","location":{"filename":"src/math.cr","line_number":130,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L130"},"def":{"name":"floor_sum","args":[{"name":"n","external_name":"n","restriction":""},{"name":"m","external_name":"m","restriction":""},{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"n, m, a, b = n.to_i64, m.to_i64, a.to_i64, b.to_i64\nres = 0_i64\nif a < 0\n  a2 = a % m\n  res = res - (((n * (n - 1)) // 2) * ((a2 - a) // m))\n  a = a2\nend\nif b < 0\n  b2 = b % m\n  res = res - (n * ((b2 - b) // m))\n  b = b2\nend\nres + (floor_sum_unsigned(n, m, a, b))\n"}},{"html_id":"get_primitive_root(p:Int)-class-method","name":"get_primitive_root","abstract":false,"args":[{"name":"p","external_name":"p","restriction":"Int"}],"args_string":"(p : Int)","args_html":"(p : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/math.cr","line_number":179,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L179"},"def":{"name":"get_primitive_root","args":[{"name":"p","external_name":"p","restriction":"Int"}],"visibility":"Public","body":"if p == 2\n  return 1_i64\nend\nn = p - 1\nfactors = AtCoder::Prime.prime_division(n)\n(2_i64..p.to_i64).each do |g|\n  ok = true\n  factors.each do |__arg1|\n    factor = __arg1[0]\n    if (pow_mod(g, n // factor, p)) == 1\n      ok = false\n      break\n    end\n  end\n  if ok\n    return g\n  end\nend\nraise(ArgumentError.new)\n"}},{"html_id":"inv_mod(value,modulo)-class-method","name":"inv_mod","doc":"Implements atcoder::inv_mod(value, modulo).","summary":"<p>Implements atcoder::inv_mod(value, modulo).</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"args_string":"(value, modulo)","args_html":"(value, modulo)","location":{"filename":"src/math.cr","line_number":37,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L37"},"def":{"name":"inv_mod","args":[{"name":"value","external_name":"value","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"visibility":"Public","body":"gcd, inv = extended_gcd(value, modulo)\nif gcd != 1\n  raise(ArgumentError.new(\"#{value} and #{modulo} are not coprime\"))\nend\ninv % modulo\n"}},{"html_id":"mul_mod(a:Int64,b:Int64,mod:Int64)-class-method","name":"mul_mod","doc":"Caluculates a * b % mod without overflow detection","summary":"<p>Caluculates a * b % mod without overflow detection</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Int64"},{"name":"b","external_name":"b","restriction":"Int64"},{"name":"mod","external_name":"mod","restriction":"Int64"}],"args_string":"(a : Int64, b : Int64, mod : Int64)","args_html":"(a : Int64, b : Int64, mod : Int64)","location":{"filename":"src/math.cr","line_number":68,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L68"},"def":{"name":"mul_mod","args":[{"name":"a","external_name":"a","restriction":"Int64"},{"name":"b","external_name":"b","restriction":"Int64"},{"name":"mod","external_name":"mod","restriction":"Int64"}],"visibility":"Public","body":"if mod < Int32::MAX\n  return (a * b) % mod\nend\na_high = (a >> 32).to_u64\na_low = (a & 4294967295_i64).to_u64\nb_high = (b >> 32).to_u64\nb_low = (b & 4294967295_i64).to_u64\nc = (a_high * b_low) + (b_high * a_low)\nc_high = c >> 32\nc_low = c & 4294967295_i64\nres_high = (a_high * b_high) + c_high\nres_low = a_low * b_low\nres_low_high = res_low >> 32\nres_low_low = res_low & 4294967295_i64\nif (res_low_high + c_low) >= 4294967296_i64\n  res_high = res_high + 1\nend\nres_low = (((res_low_high + c_low) & 4294967295_i64) << 32) | res_low_low\n(((res_high.to_i128 << 64) | res_low) % mod).to_i64\n"}},{"html_id":"mul_mod(a,b,mod)-class-method","name":"mul_mod","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"mod","external_name":"mod","restriction":""}],"args_string":"(a, b, mod)","args_html":"(a, b, mod)","location":{"filename":"src/math.cr","line_number":105,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L105"},"def":{"name":"mul_mod","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"mod","external_name":"mod","restriction":""}],"visibility":"Public","body":"(typeof(mod)).new((a.to_i64 * b) % mod)"}},{"html_id":"pow_mod(base,exponent,modulo)-class-method","name":"pow_mod","doc":"Simplified AtCoder::Math.pow_mod with support of Int64","summary":"<p>Simplified AtCoder::Math.pow_mod with support of Int64</p>","abstract":false,"args":[{"name":"base","external_name":"base","restriction":""},{"name":"exponent","external_name":"exponent","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"args_string":"(base, exponent, modulo)","args_html":"(base, exponent, modulo)","location":{"filename":"src/math.cr","line_number":46,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L46"},"def":{"name":"pow_mod","args":[{"name":"base","external_name":"base","restriction":""},{"name":"exponent","external_name":"exponent","restriction":""},{"name":"modulo","external_name":"modulo","restriction":""}],"visibility":"Public","body":"if exponent == 0\n  return base.class.zero + 1\nend\nif base == 0\n  return base\nend\nb = exponent > 0 ? base : inv_mod(base, modulo)\ne = exponent.abs\nret = 1_i64\nwhile e > 0\n  if (e % 2) == 1\n    ret = mul_mod(ret, b, modulo)\n  end\n  b = mul_mod(b, b, modulo)\n  e = e // 2\nend\nret\n"}},{"html_id":"product_greater_than(a:Int,b:Int,target:Int)-class-method","name":"product_greater_than","doc":"Returns `a * b > target`, without concern of overflows.","summary":"<p>Returns <code>a * b &gt; target</code>, without concern of overflows.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"target","external_name":"target","restriction":"Int"}],"args_string":"(a : Int, b : Int, target : Int)","args_html":"(a : <a href=\"../Int.html\">Int</a>, b : <a href=\"../Int.html\">Int</a>, target : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/math.cr","line_number":175,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/math.cr#L175"},"def":{"name":"product_greater_than","args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"target","external_name":"target","restriction":"Int"}],"visibility":"Public","body":"(target // b) < a"}}]},{"html_id":"atcoder/AtCoder/MaxFlow","path":"AtCoder/MaxFlow.html","kind":"class","full_name":"AtCoder::MaxFlow","name":"MaxFlow","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/max_flow.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L28"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::mf_graph](https://atcoder.github.io/ac-library/master/document_en/maxflow.html).\n`Cap` is always `Int64`.\n\n```\nmf = AtCoder::MaxFlow.new(3)\nmf.add_edge(0, 1, 3)\nmf.add_edge(1, 2, 1)\nmf.add_edge(0, 2, 2)\nmf.flow(0, 2) # => 3\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/maxflow.html\">atcoder::mf_graph</a>.</p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/max_flow.cr","line_number":49,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L49"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(from,to,capacity)-instance-method","name":"add_edge","doc":"Implements atcoder::mf_graph.add_edge(from, to, capacity).","summary":"<p>Implements atcoder::mf_graph.add_edge(from, to, capacity).</p>","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"capacity","external_name":"capacity","restriction":""}],"args_string":"(from, to, capacity)","args_html":"(from, to, capacity)","location":{"filename":"src/max_flow.cr","line_number":56,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L56"},"def":{"name":"add_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"capacity","external_name":"capacity","restriction":""}],"visibility":"Public","body":"from_index = @adjacencies[from].size.to_i64\nto_index = @adjacencies[to].size.to_i64\n@adjacencies[from] << (Edge.new(to.to_i64, capacity.to_i64, to_index))\n@adjacencies[to] << (Edge.new(from.to_i64, 0_i64, from_index))\n"}},{"html_id":"adjacencies:Array(Array(Edge))-instance-method","name":"adjacencies","doc":"Adjacency list","summary":"<p>Adjacency list</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":42,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L42"},"def":{"name":"adjacencies","return_type":"Array(Array(Edge))","visibility":"Public","body":"@adjacencies"}},{"html_id":"change_edge-instance-method","name":"change_edge","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":97,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L97"},"def":{"name":"change_edge","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"depths:Array(Int64)-instance-method","name":"depths","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":44,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L44"},"def":{"name":"depths","return_type":"Array(Int64)","visibility":"Public","body":"@depths"}},{"html_id":"edges-instance-method","name":"edges","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":92,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L92"},"def":{"name":"edges","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"flow(start,target)-instance-method","name":"flow","doc":"Implements atcoder::mf_graph.flow(start, target).","summary":"<p>Implements atcoder::mf_graph.flow(start, target).</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""}],"args_string":"(start, target)","args_html":"(start, target)","location":{"filename":"src/max_flow.cr","line_number":65,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L65"},"def":{"name":"flow","args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""}],"visibility":"Public","body":"flow = 0_i64\nloop do\n  bfs(start)\n  if @depths[target] < 0\n    return flow\n  end\n  @visit_counts.fill(0_i64)\n  while (flowed = dfs(start, target, Int64::MAX)) > 0\n    flow = flow + flowed\n  end\nend\n"}},{"html_id":"get_edge-instance-method","name":"get_edge","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":87,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L87"},"def":{"name":"get_edge","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"min_cut-instance-method","name":"min_cut","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":82,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L82"},"def":{"name":"min_cut","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"size:Int64-instance-method","name":"size","doc":"Number of nodes","summary":"<p>Number of nodes</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":39,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L39"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}},{"html_id":"visit_counts:Array(Int64)-instance-method","name":"visit_counts","doc":"Number of visited adjacencies for each nodes","summary":"<p>Number of visited adjacencies for each nodes</p>","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":47,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L47"},"def":{"name":"visit_counts","return_type":"Array(Int64)","visibility":"Public","body":"@visit_counts"}}],"types":[{"html_id":"atcoder/AtCoder/MaxFlow/Edge","path":"AtCoder/MaxFlow/Edge.html","kind":"class","full_name":"AtCoder::MaxFlow::Edge","name":"Edge","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/max_flow.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L29"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder/MaxFlow","kind":"class","full_name":"AtCoder::MaxFlow","name":"MaxFlow"},"constructors":[{"html_id":"new(to:Int64,capacity:Int64,reverse_index:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"to","external_name":"to","restriction":"::Int64"},{"name":"capacity","external_name":"capacity","restriction":"::Int64"},{"name":"reverse_index","external_name":"reverse_index","restriction":"::Int64"}],"args_string":"(to : Int64, capacity : Int64, reverse_index : Int64)","args_html":"(to : Int64, capacity : Int64, reverse_index : Int64)","location":{"filename":"src/max_flow.cr","line_number":34,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L34"},"def":{"name":"new","args":[{"name":"to","external_name":"to","restriction":"::Int64"},{"name":"capacity","external_name":"capacity","restriction":"::Int64"},{"name":"reverse_index","external_name":"reverse_index","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(to, capacity, reverse_index)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"capacity:Int64-instance-method","name":"capacity","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L32"},"def":{"name":"capacity","return_type":"Int64","visibility":"Public","body":"@capacity"}},{"html_id":"capacity=(capacity:Int64)-instance-method","name":"capacity=","abstract":false,"args":[{"name":"capacity","external_name":"capacity","restriction":"Int64"}],"args_string":"(capacity : Int64)","args_html":"(capacity : Int64)","location":{"filename":"src/max_flow.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L32"},"def":{"name":"capacity=","args":[{"name":"capacity","external_name":"capacity","restriction":"Int64"}],"visibility":"Public","body":"@capacity = capacity"}},{"html_id":"reverse_index:Int64-instance-method","name":"reverse_index","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L31"},"def":{"name":"reverse_index","return_type":"Int64","visibility":"Public","body":"@reverse_index"}},{"html_id":"to:Int64-instance-method","name":"to","abstract":false,"location":{"filename":"src/max_flow.cr","line_number":30,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/max_flow.cr#L30"},"def":{"name":"to","return_type":"Int64","visibility":"Public","body":"@to"}}]}]},{"html_id":"atcoder/AtCoder/MinCostFlow","path":"AtCoder/MinCostFlow.html","kind":"class","full_name":"AtCoder::MinCostFlow","name":"MinCostFlow","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/min_cost_flow.cr","line_number":33,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L33"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::mcf_graph](https://atcoder.github.io/ac-library/master/document_en/mincostflow.html).\n\n```\nflow = AtCoder::MinCostFlow.new(5)\nflow.add_edge(0, 1, 30, 3)\nflow.add_edge(0, 2, 60, 9)\nflow.add_edge(1, 2, 40, 5)\nflow.add_edge(1, 3, 50, 7)\nflow.add_edge(2, 3, 20, 8)\nflow.add_edge(2, 4, 50, 6)\nflow.add_edge(3, 4, 60, 7)\nflow.flow(0, 4, 70) # => {70, 1080}\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/mincostflow.html\">atcoder::mcf_graph</a>.</p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","doc":"Implements atcoder::mcf_graph g(n).","summary":"<p>Implements atcoder::mcf_graph g(n).</p>","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/min_cost_flow.cr","line_number":71,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L71"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(from,to,capacity,cost)-instance-method","name":"add_edge","doc":"Implements atcoder::mcf_graph.add_edge(from, to, capacity, cost).","summary":"<p>Implements atcoder::mcf_graph.add_edge(from, to, capacity, cost).</p>","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"capacity","external_name":"capacity","restriction":""},{"name":"cost","external_name":"cost","restriction":""}],"args_string":"(from, to, capacity, cost)","args_html":"(from, to, capacity, cost)","location":{"filename":"src/min_cost_flow.cr","line_number":78,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L78"},"def":{"name":"add_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""},{"name":"capacity","external_name":"capacity","restriction":""},{"name":"cost","external_name":"cost","restriction":""}],"visibility":"Public","body":"@graph.add_edge(from, to, EdgeInfo.new(capacity.to_i64, cost.to_i64))\n@graph.add_edge(to, from, EdgeInfo.new(0_i64, -cost.to_i64))\n@edges << {from.to_i64, to.to_i64}\n"}},{"html_id":"flow(start,target,flow_limit:Int|Nil=nil)-instance-method","name":"flow","doc":"Implements atcoder::mcf_graph.flow(start, target, flow_limit).","summary":"<p>Implements atcoder::mcf_graph.flow(start, target, flow_limit).</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""},{"name":"flow_limit","default_value":"nil","external_name":"flow_limit","restriction":"Int | Nil"}],"args_string":"(start, target, flow_limit : Int | Nil = nil)","args_html":"(start, target, flow_limit : <a href=\"../Int.html\">Int</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/min_cost_flow.cr","line_number":177,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L177"},"def":{"name":"flow","args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""},{"name":"flow_limit","default_value":"nil","external_name":"flow_limit","restriction":"Int | Nil"}],"visibility":"Public","body":"flow_points = slope(start, target, flow_limit)\nflow_points.last\n"}},{"html_id":"size(*args,**options)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/min_cost_flow.cr","line_number":187,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L187"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@graph.size(*args, **options)"}},{"html_id":"size(*args,**options,&)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/min_cost_flow.cr","line_number":187,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L187"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@graph.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"slope(start,target,flow_limit:Int|Nil=nil)-instance-method","name":"slope","doc":"Implements atcoder::mcf_graph.slope(start, target, flow_limit).\nameba:disable Metrics/CyclomaticComplexity","summary":"<p>Implements atcoder::mcf_graph.slope(start, target, flow_limit).</p>","abstract":false,"args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""},{"name":"flow_limit","default_value":"nil","external_name":"flow_limit","restriction":"Int | Nil"}],"args_string":"(start, target, flow_limit : Int | Nil = nil)","args_html":"(start, target, flow_limit : <a href=\"../Int.html\">Int</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/min_cost_flow.cr","line_number":96,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/min_cost_flow.cr#L96"},"def":{"name":"slope","args":[{"name":"start","external_name":"start","restriction":""},{"name":"target","external_name":"target","restriction":""},{"name":"flow_limit","default_value":"nil","external_name":"flow_limit","restriction":"Int | Nil"}],"visibility":"Public","body":"if start == target\n  raise(ArgumentError.new(\"start and target cannot be the same\"))\nend\nflow_points = [] of ::Tuple(Int64, Int64)\ncurrent_cost = 0_i64\nflowed_capacity = 0_i64\nmin_cost = 0_i64\nwhile !(flowed_capacity == flow_limit)\n  nodes = @graph.dijkstra(start)\n  target_dist = nodes[target][:dist]\n  if target_dist.nil? || (target_dist.capacity == 0)\n    break\n  end\n  capacity = target_dist.capacity\n  last_node = target\n  while !(last_node == start)\n    prev_node = nodes[last_node][:prev].not_nil!\n    increment_edge_capacity(prev_node, last_node, -capacity)\n    increment_edge_capacity(last_node, prev_node, capacity)\n    last_node = prev_node\n  end\n  @edges.each do |from, to|\n    from_dist = nodes[from][:dist]\n    to_dist = nodes[to][:dist]\n    if from_dist.nil? || to_dist.nil?\n      next\n    end\n    if from_dist.cost.nil? || to_dist.cost.nil?\n      next\n    end\n    dist = to_dist.cost.not_nil! - from_dist.cost.not_nil!\n    increment_edge_cost(from, to, -dist)\n    increment_edge_cost(to, from, dist)\n  end\n  nodes.each_with_index do |node, i|\n    dist = node[:dist]\n    if (dist.nil? || @dists[i].nil?) || dist.not_nil!.cost.nil?\n      @dists[i] = nil\n    else\n      @dists[i] = @dists[i].not_nil! + dist.not_nil!.cost.not_nil!\n    end\n  end\n  new_cost = @dists[target].not_nil!\n  if flow_limit.nil?\n    new_capacity = capacity\n  else\n    new_capacity = min(capacity, flow_limit - flowed_capacity)\n  end\n  if new_cost != current_cost\n    if (current_cost == 0) && (flowed_capacity != 0)\n      flow_points << {0_i64, 0_i64}\n    end\n    flow_points << {flowed_capacity, min_cost}\n  end\n  min_cost = min_cost + (new_cost * new_capacity)\n  flowed_capacity = flowed_capacity + new_capacity\n  current_cost = new_cost\nend\nflow_points << {flowed_capacity, min_cost}\nflow_points\n"}}]},{"html_id":"atcoder/AtCoder/ModInt1000000007","path":"AtCoder/ModInt1000000007.html","kind":"struct","full_name":"AtCoder::ModInt1000000007","name":"ModInt1000000007","abstract":false,"superclass":{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"1000000007_i64"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements atcoder::modint1000000007_i64.\n\n```\nalias Mint = AtCoder::ModInt1000000007\nMint.new(30_i64) // Mint.new(7_i64)\n```","summary":"<p>Implements atcoder::modint1000000007_i64.</p>","class_methods":[{"html_id":"combination(n,k)-class-method","name":"combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(permutation(n, k)) // @@factorials[k]\n"}},{"html_id":"factorial(n)-class-method","name":"factorial","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"factorial","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"if @@factorials.empty?\n  @@factorials << (self.new(1_i64))\nend\n@@factorials.size.upto(n) do |i|\n  @@factorials << (@@factorials.last * i)\nend\n@@factorials[n]\n"}},{"html_id":"permutation(n,k)-class-method","name":"permutation","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"permutation","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(factorial(n)) // (factorial(n - k))\n"}},{"html_id":"repeated_combination(n,k)-class-method","name":"repeated_combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"repeated_combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"combination((n + k) - 1, k)"}},{"html_id":"zero-class-method","name":"zero","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"zero","visibility":"Public","body":"self.new(0_i64)"}}],"constructors":[{"html_id":"new(value)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"*(value)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value * (value.to_i64 % MOD))"}},{"html_id":"**(value)-instance-method","name":"**","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"**","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))"}},{"html_id":"+(value)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value + (value.to_i64 % MOD))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"+","visibility":"Public","body":"self"}},{"html_id":"-(value)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value - (value.to_i64 % MOD))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"-","visibility":"Public","body":"(self.class.new(0_i64)) - self"}},{"html_id":"/(value:self)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * value.inv\n"}},{"html_id":"/(value)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * (self.class.new(value.to_i64)).inv\n"}},{"html_id":"//(value)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self / value"}},{"html_id":"<(value)-instance-method","name":"<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<\"))"}},{"html_id":"<<(value)-instance-method","name":"<<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"<<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self * ((self.class.new(2_i64)) ** value)"}},{"html_id":"<=(value)-instance-method","name":"<=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"<=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<=\"))"}},{"html_id":"==(value:self)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"@value == value.to_i64"}},{"html_id":"==(value)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@value == value"}},{"html_id":">(value)-instance-method","name":">","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":">","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">\"))"}},{"html_id":">=(value)-instance-method","name":">=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":">=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">=\"))"}},{"html_id":"abs-instance-method","name":"abs","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"abs","visibility":"Public","body":"self"}},{"html_id":"inspect(*args,**options)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.inspect(*args, **options)"}},{"html_id":"inspect(*args,**options,&)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.inspect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"inv-instance-method","name":"inv","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"inv","visibility":"Public","body":"g, x = AtCoder::Math.extended_gcd(@value, MOD)\nself.class.new(x)\n"}},{"html_id":"pow(value)-instance-method","name":"pow","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"pow","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self ** value"}},{"html_id":"sqrt-instance-method","name":"sqrt","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"sqrt","visibility":"Public","body":"z = self.class.new(1_i64)\nwhile !((z ** ((MOD - 1) // 2)) == (MOD - 1))\n  z = z + 1\nend\nq = MOD - 1\nm = 0\nwhile (q % 2) == 0\n  q = q // 2\n  m = m + 1\nend\nc = z ** q\nt = self ** q\nr = self ** ((q + 1) // 2)\nm.downto(2) do |i|\n  tmp = t ** (2 ** (i - 2))\n  if tmp != 1\n    r = r * c\n    t = t * (c ** 2)\n  end\n  c = c * c\nend\nif (r * r) == self\n  (r.to_i64 * 2) <= MOD ? r : -r\nelse\n  nil\nend\n"}},{"html_id":"to_i64:Int64-instance-method","name":"to_i64","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"to_i64","visibility":"Public","body":"@value"}},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.to_s(*args, **options)"}},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"val-instance-method","name":"val","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"val","visibility":"Public","body":"self.to_i64"}},{"html_id":"value:Int64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Int64","visibility":"Public","body":"@value"}}]},{"html_id":"atcoder/AtCoder/ModInt167772161","path":"AtCoder/ModInt167772161.html","kind":"struct","full_name":"AtCoder::ModInt167772161","name":"ModInt167772161","abstract":false,"superclass":{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"167772161_i64"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements atcoder::modint167772161_i64.\n\n```\nalias Mint = AtCoder::ModInt167772161\nMint.new(30_i64) // Mint.new(7_i64)\n```","summary":"<p>Implements atcoder::modint167772161_i64.</p>","class_methods":[{"html_id":"combination(n,k)-class-method","name":"combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(permutation(n, k)) // @@factorials[k]\n"}},{"html_id":"factorial(n)-class-method","name":"factorial","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"factorial","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"if @@factorials.empty?\n  @@factorials << (self.new(1_i64))\nend\n@@factorials.size.upto(n) do |i|\n  @@factorials << (@@factorials.last * i)\nend\n@@factorials[n]\n"}},{"html_id":"permutation(n,k)-class-method","name":"permutation","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"permutation","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(factorial(n)) // (factorial(n - k))\n"}},{"html_id":"repeated_combination(n,k)-class-method","name":"repeated_combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"repeated_combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"combination((n + k) - 1, k)"}},{"html_id":"zero-class-method","name":"zero","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"zero","visibility":"Public","body":"self.new(0_i64)"}}],"constructors":[{"html_id":"new(value)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"*(value)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value * (value.to_i64 % MOD))"}},{"html_id":"**(value)-instance-method","name":"**","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"**","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))"}},{"html_id":"+(value)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value + (value.to_i64 % MOD))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"+","visibility":"Public","body":"self"}},{"html_id":"-(value)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value - (value.to_i64 % MOD))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"-","visibility":"Public","body":"(self.class.new(0_i64)) - self"}},{"html_id":"/(value:self)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * value.inv\n"}},{"html_id":"/(value)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * (self.class.new(value.to_i64)).inv\n"}},{"html_id":"//(value)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self / value"}},{"html_id":"<(value)-instance-method","name":"<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<\"))"}},{"html_id":"<<(value)-instance-method","name":"<<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"<<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self * ((self.class.new(2_i64)) ** value)"}},{"html_id":"<=(value)-instance-method","name":"<=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"<=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<=\"))"}},{"html_id":"==(value:self)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"@value == value.to_i64"}},{"html_id":"==(value)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@value == value"}},{"html_id":">(value)-instance-method","name":">","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":">","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">\"))"}},{"html_id":">=(value)-instance-method","name":">=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":">=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">=\"))"}},{"html_id":"abs-instance-method","name":"abs","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"abs","visibility":"Public","body":"self"}},{"html_id":"inspect(*args,**options)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.inspect(*args, **options)"}},{"html_id":"inspect(*args,**options,&)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.inspect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"inv-instance-method","name":"inv","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"inv","visibility":"Public","body":"g, x = AtCoder::Math.extended_gcd(@value, MOD)\nself.class.new(x)\n"}},{"html_id":"pow(value)-instance-method","name":"pow","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"pow","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self ** value"}},{"html_id":"sqrt-instance-method","name":"sqrt","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"sqrt","visibility":"Public","body":"z = self.class.new(1_i64)\nwhile !((z ** ((MOD - 1) // 2)) == (MOD - 1))\n  z = z + 1\nend\nq = MOD - 1\nm = 0\nwhile (q % 2) == 0\n  q = q // 2\n  m = m + 1\nend\nc = z ** q\nt = self ** q\nr = self ** ((q + 1) // 2)\nm.downto(2) do |i|\n  tmp = t ** (2 ** (i - 2))\n  if tmp != 1\n    r = r * c\n    t = t * (c ** 2)\n  end\n  c = c * c\nend\nif (r * r) == self\n  (r.to_i64 * 2) <= MOD ? r : -r\nelse\n  nil\nend\n"}},{"html_id":"to_i64:Int64-instance-method","name":"to_i64","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"to_i64","visibility":"Public","body":"@value"}},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.to_s(*args, **options)"}},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"val-instance-method","name":"val","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"val","visibility":"Public","body":"self.to_i64"}},{"html_id":"value:Int64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Int64","visibility":"Public","body":"@value"}}]},{"html_id":"atcoder/AtCoder/ModInt469762049","path":"AtCoder/ModInt469762049.html","kind":"struct","full_name":"AtCoder::ModInt469762049","name":"ModInt469762049","abstract":false,"superclass":{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"469762049_i64"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements atcoder::modint469762049_i64.\n\n```\nalias Mint = AtCoder::ModInt469762049\nMint.new(30_i64) // Mint.new(7_i64)\n```","summary":"<p>Implements atcoder::modint469762049_i64.</p>","class_methods":[{"html_id":"combination(n,k)-class-method","name":"combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(permutation(n, k)) // @@factorials[k]\n"}},{"html_id":"factorial(n)-class-method","name":"factorial","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"factorial","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"if @@factorials.empty?\n  @@factorials << (self.new(1_i64))\nend\n@@factorials.size.upto(n) do |i|\n  @@factorials << (@@factorials.last * i)\nend\n@@factorials[n]\n"}},{"html_id":"permutation(n,k)-class-method","name":"permutation","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"permutation","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(factorial(n)) // (factorial(n - k))\n"}},{"html_id":"repeated_combination(n,k)-class-method","name":"repeated_combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"repeated_combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"combination((n + k) - 1, k)"}},{"html_id":"zero-class-method","name":"zero","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"zero","visibility":"Public","body":"self.new(0_i64)"}}],"constructors":[{"html_id":"new(value)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"*(value)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value * (value.to_i64 % MOD))"}},{"html_id":"**(value)-instance-method","name":"**","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"**","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))"}},{"html_id":"+(value)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value + (value.to_i64 % MOD))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"+","visibility":"Public","body":"self"}},{"html_id":"-(value)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value - (value.to_i64 % MOD))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"-","visibility":"Public","body":"(self.class.new(0_i64)) - self"}},{"html_id":"/(value:self)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * value.inv\n"}},{"html_id":"/(value)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * (self.class.new(value.to_i64)).inv\n"}},{"html_id":"//(value)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self / value"}},{"html_id":"<(value)-instance-method","name":"<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<\"))"}},{"html_id":"<<(value)-instance-method","name":"<<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"<<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self * ((self.class.new(2_i64)) ** value)"}},{"html_id":"<=(value)-instance-method","name":"<=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"<=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<=\"))"}},{"html_id":"==(value:self)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"@value == value.to_i64"}},{"html_id":"==(value)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@value == value"}},{"html_id":">(value)-instance-method","name":">","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":">","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">\"))"}},{"html_id":">=(value)-instance-method","name":">=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":">=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">=\"))"}},{"html_id":"abs-instance-method","name":"abs","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"abs","visibility":"Public","body":"self"}},{"html_id":"inspect(*args,**options)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.inspect(*args, **options)"}},{"html_id":"inspect(*args,**options,&)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.inspect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"inv-instance-method","name":"inv","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"inv","visibility":"Public","body":"g, x = AtCoder::Math.extended_gcd(@value, MOD)\nself.class.new(x)\n"}},{"html_id":"pow(value)-instance-method","name":"pow","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"pow","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self ** value"}},{"html_id":"sqrt-instance-method","name":"sqrt","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"sqrt","visibility":"Public","body":"z = self.class.new(1_i64)\nwhile !((z ** ((MOD - 1) // 2)) == (MOD - 1))\n  z = z + 1\nend\nq = MOD - 1\nm = 0\nwhile (q % 2) == 0\n  q = q // 2\n  m = m + 1\nend\nc = z ** q\nt = self ** q\nr = self ** ((q + 1) // 2)\nm.downto(2) do |i|\n  tmp = t ** (2 ** (i - 2))\n  if tmp != 1\n    r = r * c\n    t = t * (c ** 2)\n  end\n  c = c * c\nend\nif (r * r) == self\n  (r.to_i64 * 2) <= MOD ? r : -r\nelse\n  nil\nend\n"}},{"html_id":"to_i64:Int64-instance-method","name":"to_i64","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"to_i64","visibility":"Public","body":"@value"}},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.to_s(*args, **options)"}},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"val-instance-method","name":"val","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"val","visibility":"Public","body":"self.to_i64"}},{"html_id":"value:Int64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Int64","visibility":"Public","body":"@value"}}]},{"html_id":"atcoder/AtCoder/ModInt754974721","path":"AtCoder/ModInt754974721.html","kind":"struct","full_name":"AtCoder::ModInt754974721","name":"ModInt754974721","abstract":false,"superclass":{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"754974721_i64"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements atcoder::modint754974721_i64.\n\n```\nalias Mint = AtCoder::ModInt754974721\nMint.new(30_i64) // Mint.new(7_i64)\n```","summary":"<p>Implements atcoder::modint754974721_i64.</p>","class_methods":[{"html_id":"combination(n,k)-class-method","name":"combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(permutation(n, k)) // @@factorials[k]\n"}},{"html_id":"factorial(n)-class-method","name":"factorial","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"factorial","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"if @@factorials.empty?\n  @@factorials << (self.new(1_i64))\nend\n@@factorials.size.upto(n) do |i|\n  @@factorials << (@@factorials.last * i)\nend\n@@factorials[n]\n"}},{"html_id":"permutation(n,k)-class-method","name":"permutation","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"permutation","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(factorial(n)) // (factorial(n - k))\n"}},{"html_id":"repeated_combination(n,k)-class-method","name":"repeated_combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"repeated_combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"combination((n + k) - 1, k)"}},{"html_id":"zero-class-method","name":"zero","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"zero","visibility":"Public","body":"self.new(0_i64)"}}],"constructors":[{"html_id":"new(value)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"*(value)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value * (value.to_i64 % MOD))"}},{"html_id":"**(value)-instance-method","name":"**","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"**","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))"}},{"html_id":"+(value)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value + (value.to_i64 % MOD))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"+","visibility":"Public","body":"self"}},{"html_id":"-(value)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value - (value.to_i64 % MOD))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"-","visibility":"Public","body":"(self.class.new(0_i64)) - self"}},{"html_id":"/(value:self)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * value.inv\n"}},{"html_id":"/(value)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * (self.class.new(value.to_i64)).inv\n"}},{"html_id":"//(value)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self / value"}},{"html_id":"<(value)-instance-method","name":"<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<\"))"}},{"html_id":"<<(value)-instance-method","name":"<<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"<<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self * ((self.class.new(2_i64)) ** value)"}},{"html_id":"<=(value)-instance-method","name":"<=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"<=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<=\"))"}},{"html_id":"==(value:self)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"@value == value.to_i64"}},{"html_id":"==(value)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@value == value"}},{"html_id":">(value)-instance-method","name":">","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":">","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">\"))"}},{"html_id":">=(value)-instance-method","name":">=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":">=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">=\"))"}},{"html_id":"abs-instance-method","name":"abs","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"abs","visibility":"Public","body":"self"}},{"html_id":"inspect(*args,**options)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.inspect(*args, **options)"}},{"html_id":"inspect(*args,**options,&)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.inspect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"inv-instance-method","name":"inv","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"inv","visibility":"Public","body":"g, x = AtCoder::Math.extended_gcd(@value, MOD)\nself.class.new(x)\n"}},{"html_id":"pow(value)-instance-method","name":"pow","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"pow","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self ** value"}},{"html_id":"sqrt-instance-method","name":"sqrt","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"sqrt","visibility":"Public","body":"z = self.class.new(1_i64)\nwhile !((z ** ((MOD - 1) // 2)) == (MOD - 1))\n  z = z + 1\nend\nq = MOD - 1\nm = 0\nwhile (q % 2) == 0\n  q = q // 2\n  m = m + 1\nend\nc = z ** q\nt = self ** q\nr = self ** ((q + 1) // 2)\nm.downto(2) do |i|\n  tmp = t ** (2 ** (i - 2))\n  if tmp != 1\n    r = r * c\n    t = t * (c ** 2)\n  end\n  c = c * c\nend\nif (r * r) == self\n  (r.to_i64 * 2) <= MOD ? r : -r\nelse\n  nil\nend\n"}},{"html_id":"to_i64:Int64-instance-method","name":"to_i64","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"to_i64","visibility":"Public","body":"@value"}},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.to_s(*args, **options)"}},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"val-instance-method","name":"val","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"val","visibility":"Public","body":"self.to_i64"}},{"html_id":"value:Int64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Int64","visibility":"Public","body":"@value"}}]},{"html_id":"atcoder/AtCoder/ModInt998244353","path":"AtCoder/ModInt998244353.html","kind":"struct","full_name":"AtCoder::ModInt998244353","name":"ModInt998244353","abstract":false,"superclass":{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"atcoder/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MOD","name":"MOD","value":"998244353_i64"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements atcoder::modint998244353_i64.\n\n```\nalias Mint = AtCoder::ModInt998244353\nMint.new(30_i64) // Mint.new(7_i64)\n```","summary":"<p>Implements atcoder::modint998244353_i64.</p>","class_methods":[{"html_id":"combination(n,k)-class-method","name":"combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(permutation(n, k)) // @@factorials[k]\n"}},{"html_id":"factorial(n)-class-method","name":"factorial","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""}],"args_string":"(n)","args_html":"(n)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"factorial","args":[{"name":"n","external_name":"n","restriction":""}],"visibility":"Public","body":"if @@factorials.empty?\n  @@factorials << (self.new(1_i64))\nend\n@@factorials.size.upto(n) do |i|\n  @@factorials << (@@factorials.last * i)\nend\n@@factorials[n]\n"}},{"html_id":"permutation(n,k)-class-method","name":"permutation","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"permutation","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"if n >= k\nelse\n  raise(ArgumentError.new(\"k cannot be greater than n\"))\nend\n(factorial(n)) // (factorial(n - k))\n"}},{"html_id":"repeated_combination(n,k)-class-method","name":"repeated_combination","abstract":false,"args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"args_string":"(n, k)","args_html":"(n, k)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"repeated_combination","args":[{"name":"n","external_name":"n","restriction":""},{"name":"k","external_name":"k","restriction":""}],"visibility":"Public","body":"combination((n + k) - 1, k)"}},{"html_id":"zero-class-method","name":"zero","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"zero","visibility":"Public","body":"self.new(0_i64)"}}],"constructors":[{"html_id":"new(value)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"*(value)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value * (value.to_i64 % MOD))"}},{"html_id":"**(value)-instance-method","name":"**","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"**","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(AtCoder::Math.pow_mod(@value, value.to_i64, MOD))"}},{"html_id":"+(value)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value + (value.to_i64 % MOD))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"+","visibility":"Public","body":"self"}},{"html_id":"-(value)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(@value - (value.to_i64 % MOD))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"-","visibility":"Public","body":"(self.class.new(0_i64)) - self"}},{"html_id":"/(value:self)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * value.inv\n"}},{"html_id":"/(value)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nself * (self.class.new(value.to_i64)).inv\n"}},{"html_id":"//(value)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self / value"}},{"html_id":"<(value)-instance-method","name":"<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<\"))"}},{"html_id":"<<(value)-instance-method","name":"<<","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"<<","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self * ((self.class.new(2_i64)) ** value)"}},{"html_id":"<=(value)-instance-method","name":"<=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"<=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\"<=\"))"}},{"html_id":"==(value:self)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self)","args_html":"(value : <span class=\"k\">self</span>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"self"}],"visibility":"Public","body":"@value == value.to_i64"}},{"html_id":"==(value)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@value == value"}},{"html_id":">(value)-instance-method","name":">","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":">","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">\"))"}},{"html_id":">=(value)-instance-method","name":">=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":">=","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"raise(NotImplementedError.new(\">=\"))"}},{"html_id":"abs-instance-method","name":"abs","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"abs","visibility":"Public","body":"self"}},{"html_id":"inspect(*args,**options)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.inspect(*args, **options)"}},{"html_id":"inspect(*args,**options,&)-instance-method","name":"inspect","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"inspect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.inspect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"inv-instance-method","name":"inv","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"inv","visibility":"Public","body":"g, x = AtCoder::Math.extended_gcd(@value, MOD)\nself.class.new(x)\n"}},{"html_id":"pow(value)-instance-method","name":"pow","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"pow","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self ** value"}},{"html_id":"sqrt-instance-method","name":"sqrt","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"sqrt","visibility":"Public","body":"z = self.class.new(1_i64)\nwhile !((z ** ((MOD - 1) // 2)) == (MOD - 1))\n  z = z + 1\nend\nq = MOD - 1\nm = 0\nwhile (q % 2) == 0\n  q = q // 2\n  m = m + 1\nend\nc = z ** q\nt = self ** q\nr = self ** ((q + 1) // 2)\nm.downto(2) do |i|\n  tmp = t ** (2 ** (i - 2))\n  if tmp != 1\n    r = r * c\n    t = t * (c ** 2)\n  end\n  c = c * c\nend\nif (r * r) == self\n  (r.to_i64 * 2) <= MOD ? r : -r\nelse\n  nil\nend\n"}},{"html_id":"to_i64:Int64-instance-method","name":"to_i64","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"to_i64","visibility":"Public","body":"@value"}},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@value.to_s(*args, **options)"}},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@value.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"val-instance-method","name":"val","abstract":false,"location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"val","visibility":"Public","body":"self.to_i64"}},{"html_id":"value:Int64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Int64","visibility":"Public","body":"@value"}}]},{"html_id":"atcoder/AtCoder/Prime","path":"AtCoder/Prime.html","kind":"module","full_name":"AtCoder::Prime","name":"Prime","abstract":false,"ancestors":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"locations":[{"filename":"src/prime.cr","line_number":25,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L25"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"extended_modules":[{"html_id":"atcoder/AtCoder/Prime","kind":"module","full_name":"AtCoder::Prime","name":"Prime"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [Ruby's Prime library](https://ruby-doc.com/stdlib/libdoc/prime/rdoc/Prime.html).\n\n```\nAtCoder::Prime.first(7) # => [2, 3, 5, 7, 11, 13, 17]\n```","summary":"<p>Implements <a href=\"https://ruby-doc.com/stdlib/libdoc/prime/rdoc/Prime.html\">Ruby's Prime library</a>.</p>","instance_methods":[{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"location":{"filename":"src/prime.cr","line_number":36,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L36"},"def":{"name":"each","yields":1,"block_arity":1,"visibility":"Public","body":"index = 0\nloop do\n  yield get_nth_prime(index)\n  index = index + 1\nend\n"}},{"html_id":"each_divisor(value:Int)-instance-method","name":"each_divisor","doc":"Returns an enumerator that iterates through the all positive divisors of\nthe given number. **The order is not guaranteed.**\nNot in the original Ruby's Prime library.\n\n```\nAtCoder::Prime.each_divisor(20) do |n|\n  puts n\nend # => Puts 1, 2, 4, 5, 10, and 20\n\nAtCoder::Prime.each_divisor(10).map { |n| 1.0 / n }.to_a # => [1.0, 0.5, 0.2, 0.1]\n```","summary":"<p>Returns an enumerator that iterates through the all positive divisors of the given number.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Int"}],"args_string":"(value : Int)","args_html":"(value : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/prime.cr","line_number":259,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L259"},"def":{"name":"each_divisor","args":[{"name":"value","external_name":"value","restriction":"Int"}],"visibility":"Public","body":"if value > 0\nelse\n  raise(ArgumentError.new)\nend\nfactors = prime_division(value)\nif value == 1\n  exponential_factors = [[value]]\nelse\n  exponential_factors = factors.map do |__arg2|\n    factor = __arg2[0]\n    count = __arg2[1]\n    cnt = (typeof(value)).zero + 1\n    Array(typeof(value)).new(count + 1) do |i|\n      cnt_copy = cnt\n      if i < count\n        cnt = cnt * factor\n      end\n      cnt_copy\n    end\n  end\nend\nEachDivisor(typeof(value)).new(exponential_factors)\n"}},{"html_id":"each_divisor(value:T,&block:T->)-instance-method","name":"each_divisor","doc":"Returns an enumerator that iterates through the all positive divisors of\nthe given number. **The order is not guaranteed.**\nNot in the original Ruby's Prime library.\n\n```\nAtCoder::Prime.each_divisor(20) do |n|\n  puts n\nend # => Puts 1, 2, 4, 5, 10, and 20\n\nAtCoder::Prime.each_divisor(10).map { |n| 1.0 / n }.to_a # => [1.0, 0.5, 0.2, 0.1]\n```","summary":"<p>Returns an enumerator that iterates through the all positive divisors of the given number.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(value : T, &block : T -> )","args_html":"(value : T, &block : T -> )","location":{"filename":"src/prime.cr","line_number":283,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L283"},"def":{"name":"each_divisor","args":[{"name":"value","external_name":"value","restriction":"T"}],"yields":1,"block_arity":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T ->)"},"visibility":"Public","body":"(each_divisor(value)).each(&block)"}},{"html_id":"int_from_prime_division(prime_divisions:Array(Tuple(Int,Int)))-instance-method","name":"int_from_prime_division","abstract":false,"args":[{"name":"prime_divisions","external_name":"prime_divisions","restriction":"Array(::Tuple(Int, Int))"}],"args_string":"(prime_divisions : Array(Tuple(Int, Int)))","args_html":"(prime_divisions : Array(Tuple(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>)))","location":{"filename":"src/prime.cr","line_number":116,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L116"},"def":{"name":"int_from_prime_division","args":[{"name":"prime_divisions","external_name":"prime_divisions","restriction":"Array(::Tuple(Int, Int))"}],"visibility":"Public","body":"int_class = extract_prime_division_base(prime_divisions.class)\nprime_divisions.reduce(int_class.new(1)) do |i, __arg1|\n  factor = __arg1[0]\n  exponent = __arg1[1]\n  i * (factor ** exponent)\nend\n"}},{"html_id":"prime?(value:Int)-instance-method","name":"prime?","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Int"}],"args_string":"(value : Int)","args_html":"(value : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/prime.cr","line_number":121,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L121"},"def":{"name":"prime?","args":[{"name":"value","external_name":"value","restriction":"Int"}],"visibility":"Public","body":"if value < 2\n  return false\nend\nif value <= 3\n  return true\nend\nif value.even?\n  return false\nend\nif value < 9\n  return true\nend\nif value < 65535\n  if (((typeof(value)).new(30)).gcd(value % 30)) == 1\n  else\n    return false\n  end\n  7.step(by: 30, to: value) do |base|\n    if (base * base) > value\n      break\n    end\n    if {0, 4, 6, 10, 12, 16, 22, 24}.any? do |i|\n      (value % (base + i)) == 0\n    end\n      return false\n    end\n  end\n  return true\nend\nmiller_rabin(value.to_i64)\n"}},{"html_id":"prime_division(value:Int)-instance-method","name":"prime_division","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Int"}],"args_string":"(value : Int)","args_html":"(value : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/prime.cr","line_number":44,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L44"},"def":{"name":"prime_division","args":[{"name":"value","external_name":"value","restriction":"Int"}],"visibility":"Public","body":"if value == 0\n  raise(DivisionByZeroError.new)\nend\nint = typeof(value)\nfactors = [] of Tuple(typeof(value), typeof(value))\nif value < 0\n  value = value.abs\n  factors << {int.new(-1), int.new(1)}\nend\nwhile !((prime?(value)) || (value == 1))\n  factor = value\n  while !(prime?(factor))\n    factor = find_factor(factor)\n  end\n  count = 0\n  while (value % factor) == 0\n    value = value // factor\n    count = count + 1\n  end\n  factors << {int.new(factor), int.new(count)}\nend\nif value > 1\n  factors << {value, int.new(1)}\nend\nfactors.sort_by! do |__arg0|\n  factor = __arg0[0]\n  factor\nend\n"}}]},{"html_id":"atcoder/AtCoder/PriorityQueue","path":"AtCoder/PriorityQueue.html","kind":"class","full_name":"AtCoder::PriorityQueue(T)","name":"PriorityQueue","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/priority_queue.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L29"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements standard priority queue like [std::priority_queue](https://en.cppreference.com/w/cpp/container/priority_queue).\n\n```\nq = AtCoder::PriorityQueue(Int64).new\nq << 1_i64\nq << 3_i64\nq << 2_i64\nq.pop # => 3\nq.pop # => 2\nq.pop # => 1\n```","summary":"<p>Implements standard priority queue like <a href=\"https://en.cppreference.com/w/cpp/container/priority_queue\">std::priority_queue</a>.</p>","class_methods":[{"html_id":"max(enumerable:Enumerable(T))-class-method","name":"max","doc":"Create a new queue in ascending order of priority with the elements in *enumerable*.","summary":"<p>Create a new queue in ascending order of priority with the elements in <em>enumerable</em>.</p>","abstract":false,"args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"args_string":"(enumerable : Enumerable(T))","args_html":"(enumerable : Enumerable(T))","location":{"filename":"src/priority_queue.cr","line_number":40,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L40"},"def":{"name":"max","args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"visibility":"Public","body":"self.new(enumerable) do |a, b|\n  a <= b\nend"}},{"html_id":"max-class-method","name":"max","doc":"Create a new queue in ascending order of priority.","summary":"<p>Create a new queue in ascending order of priority.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":35,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L35"},"def":{"name":"max","visibility":"Public","body":"self.new do |a, b|\n  a <= b\nend"}},{"html_id":"min(enumerable:Enumerable(T))-class-method","name":"min","doc":"Create a new queue in descending order of priority with the elements in *enumerable*.","summary":"<p>Create a new queue in descending order of priority with the elements in <em>enumerable</em>.</p>","abstract":false,"args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"args_string":"(enumerable : Enumerable(T))","args_html":"(enumerable : Enumerable(T))","location":{"filename":"src/priority_queue.cr","line_number":50,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L50"},"def":{"name":"min","args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"visibility":"Public","body":"self.new(enumerable) do |a, b|\n  a >= b\nend"}},{"html_id":"min-class-method","name":"min","doc":"Create a new queue in descending order of priority.","summary":"<p>Create a new queue in descending order of priority.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":45,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L45"},"def":{"name":"min","visibility":"Public","body":"self.new do |a, b|\n  a >= b\nend"}}],"constructors":[{"html_id":"new(enumerable:Enumerable(T))-class-method","name":"new","doc":"Initializes queue with the elements in *enumerable*.","summary":"<p>Initializes queue with the elements in <em>enumerable</em>.</p>","abstract":false,"args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"args_string":"(enumerable : Enumerable(T))","args_html":"(enumerable : Enumerable(T))","location":{"filename":"src/priority_queue.cr","line_number":59,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L59"},"def":{"name":"new","args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"visibility":"Public","body":"self.new(enumerable) do |a, b|\n  a <= b\nend"}},{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":54,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L54"},"def":{"name":"new","visibility":"Public","body":"_ = PriorityQueue(T).allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(enumerable:Enumerable(T),&block:T,T->Bool)-class-method","name":"new","doc":"Initializes queue with the elements in *enumerable* and the custom comperator.\n\nIf the second argument `b` should be popped earlier than\nthe first argument `a`, return `true`. Else, return `false`.\n\n```\nq = AtCoder::PriorityQueue.new([1, 3, 2]) { |a, b| a >= b }\nq.pop # => 1\nq.pop # => 2\nq.pop # => 3\n```","summary":"<p>Initializes queue with the elements in <em>enumerable</em> and the custom comperator.</p>","abstract":false,"args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"args_string":"(enumerable : Enumerable(T), &block : T, T -> Bool)","args_html":"(enumerable : Enumerable(T), &block : T, T -> Bool)","location":{"filename":"src/priority_queue.cr","line_number":93,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L93"},"def":{"name":"new","args":[{"name":"enumerable","external_name":"enumerable","restriction":"Enumerable(T)"}],"yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, T -> Bool)"},"visibility":"Public","body":"_ = PriorityQueue(T).allocate\n_.initialize(enumerable, &block) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(&block:T,T->Bool)-class-method","name":"new","doc":"Initializes queue with the custom comperator.\n\nIf the second argument `b` should be popped earlier than\nthe first argument `a`, return `true`. Else, return `false`.\n\n```\nq = AtCoder::PriorityQueue(Int64).new { |a, b| a >= b }\nq << 1_i64\nq << 3_i64\nq << 2_i64\nq.pop # => 1\nq.pop # => 2\nq.pop # => 3\n```","summary":"<p>Initializes queue with the custom comperator.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":77,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L77"},"def":{"name":"new","yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, T -> Bool)"},"visibility":"Public","body":"_ = PriorityQueue(T).allocate\n_.initialize(&block) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"<<(v:T)-instance-method","name":"<<","doc":"Alias of `push`","summary":"<p>Alias of <code><a href=\"../AtCoder/PriorityQueue.html#push%28v%3AT%29-instance-method\">#push</a></code></p>","abstract":false,"args":[{"name":"v","external_name":"v","restriction":"T"}],"args_string":"(v : T)","args_html":"(v : T)","location":{"filename":"src/priority_queue.cr","line_number":131,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L131"},"def":{"name":"<<","args":[{"name":"v","external_name":"v","restriction":"T"}],"visibility":"Public","body":"push(v)"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Yields each item in the queue in comparator's order.","summary":"<p>Yields each item in the queue in comparator's order.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":162,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L162"},"def":{"name":"each","yields":1,"block_arity":1,"visibility":"Public","body":"@heap.sort do |a, b|\n  @compare_proc.call(a, b) ? 1 : -1\nend.each do |e|\n  yield e\nend"}},{"html_id":"empty?(*args,**options)-instance-method","name":"empty?","doc":"Returns `true` if the queue is empty.","summary":"<p>Returns <code>true</code> if the queue is empty.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/priority_queue.cr","line_number":174,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L174"},"def":{"name":"empty?","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@heap.empty?(*args, **options)"}},{"html_id":"empty?(*args,**options,&)-instance-method","name":"empty?","doc":"Returns `true` if the queue is empty.","summary":"<p>Returns <code>true</code> if the queue is empty.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/priority_queue.cr","line_number":174,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L174"},"def":{"name":"empty?","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@heap.empty?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"first(&)-instance-method","name":"first","doc":"Returns, but does not remove, the head of the queue.","summary":"<p>Returns, but does not remove, the head of the queue.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":169,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L169"},"def":{"name":"first","yields":0,"block_arity":0,"visibility":"Public","body":"@heap.first do\n  yield\nend"}},{"html_id":"heap:Array(T)-instance-method","name":"heap","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L32"},"def":{"name":"heap","return_type":"Array(T)","visibility":"Public","body":"@heap"}},{"html_id":"pop-instance-method","name":"pop","doc":"Pops value from the queue.","summary":"<p>Pops value from the queue.</p>","abstract":false,"location":{"filename":"src/priority_queue.cr","line_number":136,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L136"},"def":{"name":"pop","visibility":"Public","body":"if @heap.size == 0\n  return nil\nend\nif @heap.size == 1\n  return @heap.pop\nend\nret = @heap.first\n@heap[0] = @heap.pop\nindex = 0\nwhile ((index * 2) + 1) < @heap.size\n  child = if ((index * 2) + 2) < @heap.size && (!(@compare_proc.call(@heap[(index * 2) + 2], @heap[(index * 2) + 1])))\n    (index * 2) + 2\n  else\n    (index * 2) + 1\n  end\n  if @compare_proc.call(@heap[child], @heap[index])\n    break\n  end\n  @heap[child], @heap[index] = @heap[index], @heap[child]\n  index = child\nend\nret\n"}},{"html_id":"push(v:T)-instance-method","name":"push","doc":"Pushes value into the queue.","summary":"<p>Pushes value into the queue.</p>","abstract":false,"args":[{"name":"v","external_name":"v","restriction":"T"}],"args_string":"(v : T)","args_html":"(v : T)","location":{"filename":"src/priority_queue.cr","line_number":117,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L117"},"def":{"name":"push","args":[{"name":"v","external_name":"v","restriction":"T"}],"visibility":"Public","body":"@heap << v\nindex = @heap.size - 1\nwhile index != 0\n  parent = (index - 1) // 2\n  if @compare_proc.call(@heap[index], @heap[parent])\n    break\n  end\n  @heap[parent], @heap[index] = @heap[index], @heap[parent]\n  index = parent\nend\n"}},{"html_id":"size(*args,**options)-instance-method","name":"size","doc":"Returns size of the queue.","summary":"<p>Returns size of the queue.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/priority_queue.cr","line_number":177,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L177"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@heap.size(*args, **options)"}},{"html_id":"size(*args,**options,&)-instance-method","name":"size","doc":"Returns size of the queue.","summary":"<p>Returns size of the queue.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/priority_queue.cr","line_number":177,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/priority_queue.cr#L177"},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@heap.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}]},{"html_id":"atcoder/AtCoder/RedBlackTree","path":"AtCoder/RedBlackTree.html","kind":"class","full_name":"AtCoder::RedBlackTree","name":"RedBlackTree","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/red_black_tree.cr","line_number":26,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L26"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"atcoder/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":75,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L75"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"<<(x)-instance-method","name":"<<","abstract":false,"args":[{"name":"x","external_name":"x","restriction":""}],"args_string":"(x)","args_html":"(x)","location":{"filename":"src/red_black_tree.cr","line_number":376,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L376"},"def":{"name":"<<","args":[{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"insert(x)"}},{"html_id":"black_height(x=root)-instance-method","name":"black_height","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root)","args_html":"(x = root)","location":{"filename":"src/red_black_tree.cr","line_number":237,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L237"},"def":{"name":"black_height","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"visibility":"Public","body":"height = 0\nwhile !x.nil_node?\n  x = x.left\n  if x.nil_node? || x.black?\n    height = height + 1\n  end\nend\nheight\n"}},{"html_id":"delete(key)-instance-method","name":"delete","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/red_black_tree.cr","line_number":364,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L364"},"def":{"name":"delete","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"node = search(key)\nif node.nil_node?\nelse\n  delete_node(node)\nend\n"}},{"html_id":"delete_node(z)-instance-method","name":"delete_node","abstract":false,"args":[{"name":"z","external_name":"z","restriction":""}],"args_string":"(z)","args_html":"(z)","location":{"filename":"src/red_black_tree.cr","line_number":126,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L126"},"def":{"name":"delete_node","args":[{"name":"z","external_name":"z","restriction":""}],"visibility":"Public","body":"y = (z.left.nil_node? || z.right.nil_node?) ? z : successor(z)\nx = y.left.nil_node? ? y.right : y.left\nx.parent = y.parent\nif y.parent.nil_node?\n  self.root = x\nelse\n  if y == y.parent.left\n    y.parent.left = x\n  else\n    y.parent.right = x\n  end\nend\nif y != z\n  z.key = y.key\nend\nif y.color == Node::BLACK\n  delete_fixup(x)\nend\nself.size = self.size - 1\ny\n"}},{"html_id":"each(x=root,&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root, &)","args_html":"(x = root, &)","location":{"filename":"src/red_black_tree.cr","line_number":198,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L198"},"def":{"name":"each","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"inorder_walk(x) do |k|\n  yield k\nend"}},{"html_id":"empty?-instance-method","name":"empty?","doc":"Returns `true` if `self` is empty, `false` otherwise.\n\n```\n([] of Int32).empty? # => true\n([1]).empty?         # => false\n```","summary":"<p>Returns <code>true</code> if <code>self</code> is empty, <code>false</code> otherwise.</p>","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":233,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L233"},"def":{"name":"empty?","visibility":"Public","body":"self.root.nil_node?"}},{"html_id":"has_key?(key)-instance-method","name":"has_key?","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/red_black_tree.cr","line_number":371,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L371"},"def":{"name":"has_key?","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"node = search(key)\n!node.nil_node?\n"}},{"html_id":"inorder_walk(x=root,&)-instance-method","name":"inorder_walk","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root, &)","args_html":"(x = root, &)","location":{"filename":"src/red_black_tree.cr","line_number":189,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L189"},"def":{"name":"inorder_walk","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"x = self.minimum_node\nwhile !x.nil_node?\n  yield x.key\n  x = successor(x)\nend\n"}},{"html_id":"insert(key)-instance-method","name":"insert","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""}],"args_string":"(key)","args_html":"(key)","location":{"filename":"src/red_black_tree.cr","line_number":80,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L80"},"def":{"name":"insert","args":[{"name":"key","external_name":"key","restriction":""}],"visibility":"Public","body":"insert_node(Node.new(key))"}},{"html_id":"insert_node(x)-instance-method","name":"insert_node","abstract":false,"args":[{"name":"x","external_name":"x","restriction":""}],"args_string":"(x)","args_html":"(x)","location":{"filename":"src/red_black_tree.cr","line_number":84,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L84"},"def":{"name":"insert_node","args":[{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"insert_helper(x)\nx.color = Node::RED\nwhile (x != root) && (x.parent.color == Node::RED)\n  if x.parent == x.parent.parent.left\n    y = x.parent.parent.right\n    if (!y.nil_node?) && (y.color == Node::RED)\n      x.parent.color = Node::BLACK\n      y.color = Node::BLACK\n      x.parent.parent.color = Node::RED\n      x = x.parent.parent\n    else\n      if x == x.parent.right\n        x = x.parent\n        left_rotate(x)\n      end\n      x.parent.color = Node::BLACK\n      x.parent.parent.color = Node::RED\n      right_rotate(x.parent.parent)\n    end\n  else\n    y = x.parent.parent.left\n    if (!y.nil_node?) && (y.color == Node::RED)\n      x.parent.color = Node::BLACK\n      y.color = Node::BLACK\n      x.parent.parent.color = Node::RED\n      x = x.parent.parent\n    else\n      if x == x.parent.left\n        x = x.parent\n        right_rotate(x)\n      end\n      x.parent.color = Node::BLACK\n      x.parent.parent.color = Node::RED\n      left_rotate(x.parent.parent)\n    end\n  end\nend\nroot.color = Node::BLACK\n"}},{"html_id":"lower_than(key,x=root)-instance-method","name":"lower_than","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(key, x = root)","args_html":"(key, x = root)","location":{"filename":"src/red_black_tree.cr","line_number":222,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L222"},"def":{"name":"lower_than","args":[{"name":"key","external_name":"key","restriction":""},{"name":"x","default_value":"root","external_name":"x","restriction":""}],"visibility":"Public","body":"while (!x.nil_node?) && (x.key != key)\n  tmp = (  key < x.key) ? x.left : x.right\n  if tmp.nil_node?\n    return x\n  end\n  x = tmp\nend\nx\n"}},{"html_id":"max-instance-method","name":"max","doc":"Returns the element with the maximum value in the collection.\n\nIt compares using `>` so it will work for any type that supports that method.\n\n```\n[1, 2, 3].max        # => 3\n[\"Alice\", \"Bob\"].max # => \"Bob\"\n```\n\nRaises `Enumerable::EmptyError` if the collection is empty.","summary":"<p>Returns the element with the maximum value in the collection.</p>","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":360,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L360"},"def":{"name":"max","visibility":"Public","body":"maximum_node.key"}},{"html_id":"maximum_node(x=root)-instance-method","name":"maximum_node","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root)","args_html":"(x = root)","location":{"filename":"src/red_black_tree.cr","line_number":158,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L158"},"def":{"name":"maximum_node","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"visibility":"Public","body":"while !x.right.nil_node?\n  x = x.right\nend\nx\n"}},{"html_id":"min-instance-method","name":"min","doc":"Returns the element with the minimum value in the collection.\n\nIt compares using `<` so it will work for any type that supports that method.\n\n```\n[1, 2, 3].min        # => 1\n[\"Alice\", \"Bob\"].min # => \"Alice\"\n```\n\nRaises `Enumerable::EmptyError` if the collection is empty.","summary":"<p>Returns the element with the minimum value in the collection.</p>","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":356,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L356"},"def":{"name":"min","visibility":"Public","body":"minimum_node.key"}},{"html_id":"minimum_node(x=root)-instance-method","name":"minimum_node","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root)","args_html":"(x = root)","location":{"filename":"src/red_black_tree.cr","line_number":151,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L151"},"def":{"name":"minimum_node","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"visibility":"Public","body":"while !x.left.nil_node?\n  x = x.left\nend\nx\n"}},{"html_id":"predecessor(x)-instance-method","name":"predecessor","abstract":false,"args":[{"name":"x","external_name":"x","restriction":""}],"args_string":"(x)","args_html":"(x)","location":{"filename":"src/red_black_tree.cr","line_number":177,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L177"},"def":{"name":"predecessor","args":[{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"if !x.left.nil_node?\n  return maximum_node(x.left)\nend\ny = x.parent\nwhile (!y.nil_node?) && (x == y.left)\n  x = y\n  y = y.parent\nend\ny\n"}},{"html_id":"reverse_each(x=root,&)-instance-method","name":"reverse_each","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root, &)","args_html":"(x = root, &)","location":{"filename":"src/red_black_tree.cr","line_number":211,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L211"},"def":{"name":"reverse_each","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"reverse_inorder_walk(x) do |k|\n  yield k\nend"}},{"html_id":"reverse_inorder_walk(x=root,&)-instance-method","name":"reverse_inorder_walk","abstract":false,"args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(x = root, &)","args_html":"(x = root, &)","location":{"filename":"src/red_black_tree.cr","line_number":202,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L202"},"def":{"name":"reverse_inorder_walk","args":[{"name":"x","default_value":"root","external_name":"x","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"x = self.maximum_node\nwhile !x.nil_node?\n  yield x.key\n  x = predecessor(x)\nend\n"}},{"html_id":"root:Node-instance-method","name":"root","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":72,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L72"},"def":{"name":"root","return_type":"Node","visibility":"Public","body":"@root"}},{"html_id":"root=(root:Node)-instance-method","name":"root=","abstract":false,"args":[{"name":"root","external_name":"root","restriction":"Node"}],"args_string":"(root : Node)","args_html":"(root : <a href=\"../AtCoder/RedBlackTree/Node.html\">Node</a>)","location":{"filename":"src/red_black_tree.cr","line_number":72,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L72"},"def":{"name":"root=","args":[{"name":"root","external_name":"root","restriction":"Node"}],"visibility":"Public","body":"@root = root"}},{"html_id":"search(key,x=root)-instance-method","name":"search","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"x","default_value":"root","external_name":"x","restriction":""}],"args_string":"(key, x = root)","args_html":"(key, x = root)","location":{"filename":"src/red_black_tree.cr","line_number":215,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L215"},"def":{"name":"search","args":[{"name":"key","external_name":"key","restriction":""},{"name":"x","default_value":"root","external_name":"x","restriction":""}],"visibility":"Public","body":"while (!x.nil_node?) && (x.key != key)\n  x = (  key < x.key) ? x.left : x.right\nend\nx\n"}},{"html_id":"size:Int32-instance-method","name":"size","doc":"Returns the number of elements in the collection.\n\n```\n[1, 2, 3, 4].size # => 4\n```","summary":"<p>Returns the number of elements in the collection.</p>","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":73,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L73"},"def":{"name":"size","visibility":"Public","body":"@size"}},{"html_id":"size=(size:Int32)-instance-method","name":"size=","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int32"}],"args_string":"(size : Int32)","args_html":"(size : Int32)","location":{"filename":"src/red_black_tree.cr","line_number":73,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L73"},"def":{"name":"size=","args":[{"name":"size","external_name":"size","restriction":"::Int32"}],"visibility":"Public","body":"@size = size"}},{"html_id":"successor(x)-instance-method","name":"successor","abstract":false,"args":[{"name":"x","external_name":"x","restriction":""}],"args_string":"(x)","args_html":"(x)","location":{"filename":"src/red_black_tree.cr","line_number":165,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L165"},"def":{"name":"successor","args":[{"name":"x","external_name":"x","restriction":""}],"visibility":"Public","body":"if !x.right.nil_node?\n  return minimum_node(x.right)\nend\ny = x.parent\nwhile (!y.nil_node?) && (x == y.right)\n  x = y\n  y = y.parent\nend\ny\n"}}],"types":[{"html_id":"atcoder/AtCoder/RedBlackTree/NilNode","path":"AtCoder/RedBlackTree/NilNode.html","kind":"class","full_name":"AtCoder::RedBlackTree::NilNode","name":"NilNode","abstract":false,"superclass":{"html_id":"atcoder/AtCoder/RedBlackTree/Node","kind":"class","full_name":"AtCoder::RedBlackTree::Node","name":"Node"},"ancestors":[{"html_id":"atcoder/AtCoder/RedBlackTree/Node","kind":"class","full_name":"AtCoder::RedBlackTree::Node","name":"Node"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/red_black_tree.cr","line_number":54,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L54"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder/RedBlackTree","kind":"class","full_name":"AtCoder::RedBlackTree","name":"RedBlackTree"},"class_methods":[{"html_id":"instance-class-method","name":"instance","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":55,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L55"},"def":{"name":"instance","visibility":"Public","body":"@@instance || (@@instance = RedBlackTree::NilNode.new)"}}],"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":59,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L59"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"nil_node?-instance-method","name":"nil_node?","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":65,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L65"},"def":{"name":"nil_node?","visibility":"Public","body":"true"}}]},{"html_id":"atcoder/AtCoder/RedBlackTree/Node","path":"AtCoder/RedBlackTree/Node.html","kind":"class","full_name":"AtCoder::RedBlackTree::Node","name":"Node","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/red_black_tree.cr","line_number":27,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L27"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"BLACK","name":"BLACK","value":":black"},{"id":"RED","name":"RED","value":":red"}],"subclasses":[{"html_id":"atcoder/AtCoder/RedBlackTree/NilNode","kind":"class","full_name":"AtCoder::RedBlackTree::NilNode","name":"NilNode"}],"namespace":{"html_id":"atcoder/AtCoder/RedBlackTree","kind":"class","full_name":"AtCoder::RedBlackTree","name":"RedBlackTree"},"constructors":[{"html_id":"new(key:Int32,color:Symbol=RED)-class-method","name":"new","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"Int32"},{"name":"color","default_value":"RED","external_name":"color","restriction":"::Symbol"}],"args_string":"(key : Int32, color : Symbol = RED)","args_html":"(key : Int32, color : Symbol = <span class=\"t\">RED</span>)","location":{"filename":"src/red_black_tree.cr","line_number":37,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L37"},"def":{"name":"new","args":[{"name":"key","external_name":"key","restriction":"Int32"},{"name":"color","default_value":"RED","external_name":"color","restriction":"::Symbol"}],"visibility":"Public","body":"_ = allocate\n_.initialize(key, color)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"black?-instance-method","name":"black?","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":41,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L41"},"def":{"name":"black?","visibility":"Public","body":"color == BLACK"}},{"html_id":"color:Symbol-instance-method","name":"color","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L28"},"def":{"name":"color","visibility":"Public","body":"@color"}},{"html_id":"color=(color:Symbol)-instance-method","name":"color=","abstract":false,"args":[{"name":"color","external_name":"color","restriction":"::Symbol"}],"args_string":"(color : Symbol)","args_html":"(color : Symbol)","location":{"filename":"src/red_black_tree.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L28"},"def":{"name":"color=","args":[{"name":"color","external_name":"color","restriction":"::Symbol"}],"visibility":"Public","body":"@color = color"}},{"html_id":"key:Int32-instance-method","name":"key","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L29"},"def":{"name":"key","visibility":"Public","body":"@key"}},{"html_id":"key=(key:Int32)-instance-method","name":"key=","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"::Int32"}],"args_string":"(key : Int32)","args_html":"(key : Int32)","location":{"filename":"src/red_black_tree.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L29"},"def":{"name":"key=","args":[{"name":"key","external_name":"key","restriction":"::Int32"}],"visibility":"Public","body":"@key = key"}},{"html_id":"left-instance-method","name":"left","abstract":false,"def":{"name":"left","visibility":"Public","body":"if (value = @left).nil?\n  ::raise(NilAssertionError.new(\"AtCoder::RedBlackTree::Node#left cannot be nil\"))\nelse\n  value\nend"}},{"html_id":"left=(left:AtCoder::RedBlackTree::Node|Nil)-instance-method","name":"left=","abstract":false,"args":[{"name":"left","external_name":"left","restriction":"::AtCoder::RedBlackTree::Node | ::Nil"}],"args_string":"(left : AtCoder::RedBlackTree::Node | Nil)","args_html":"(left : <a href=\"../../AtCoder/RedBlackTree/Node.html\">AtCoder::RedBlackTree::Node</a> | Nil)","location":{"filename":"src/red_black_tree.cr","line_number":30,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L30"},"def":{"name":"left=","args":[{"name":"left","external_name":"left","restriction":"::AtCoder::RedBlackTree::Node | ::Nil"}],"visibility":"Public","body":"@left = left"}},{"html_id":"left?:AtCoder::RedBlackTree::Node?-instance-method","name":"left?","abstract":false,"def":{"name":"left?","visibility":"Public","body":"@left"}},{"html_id":"nil_node?-instance-method","name":"nil_node?","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":49,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L49"},"def":{"name":"nil_node?","visibility":"Public","body":"false"}},{"html_id":"parent:self-instance-method","name":"parent","abstract":false,"def":{"name":"parent","return_type":"self","visibility":"Public","body":"if (value = @parent).nil?\n  ::raise(NilAssertionError.new(\"AtCoder::RedBlackTree::Node#parent cannot be nil\"))\nelse\n  value\nend"}},{"html_id":"parent=(parent:self)-instance-method","name":"parent=","abstract":false,"args":[{"name":"parent","external_name":"parent","restriction":"self"}],"args_string":"(parent : self)","args_html":"(parent : <span class=\"k\">self</span>)","location":{"filename":"src/red_black_tree.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L32"},"def":{"name":"parent=","args":[{"name":"parent","external_name":"parent","restriction":"self"}],"visibility":"Public","body":"@parent = parent"}},{"html_id":"parent?:self|Nil-instance-method","name":"parent?","abstract":false,"def":{"name":"parent?","return_type":"self | ::Nil","visibility":"Public","body":"@parent"}},{"html_id":"red?-instance-method","name":"red?","abstract":false,"location":{"filename":"src/red_black_tree.cr","line_number":45,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L45"},"def":{"name":"red?","visibility":"Public","body":"color == RED"}},{"html_id":"right-instance-method","name":"right","abstract":false,"def":{"name":"right","visibility":"Public","body":"if (value = @right).nil?\n  ::raise(NilAssertionError.new(\"AtCoder::RedBlackTree::Node#right cannot be nil\"))\nelse\n  value\nend"}},{"html_id":"right=(right:AtCoder::RedBlackTree::Node|Nil)-instance-method","name":"right=","abstract":false,"args":[{"name":"right","external_name":"right","restriction":"::AtCoder::RedBlackTree::Node | ::Nil"}],"args_string":"(right : AtCoder::RedBlackTree::Node | Nil)","args_html":"(right : <a href=\"../../AtCoder/RedBlackTree/Node.html\">AtCoder::RedBlackTree::Node</a> | Nil)","location":{"filename":"src/red_black_tree.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/red_black_tree.cr#L31"},"def":{"name":"right=","args":[{"name":"right","external_name":"right","restriction":"::AtCoder::RedBlackTree::Node | ::Nil"}],"visibility":"Public","body":"@right = right"}},{"html_id":"right?:AtCoder::RedBlackTree::Node?-instance-method","name":"right?","abstract":false,"def":{"name":"right?","visibility":"Public","body":"@right"}}]}]},{"html_id":"atcoder/AtCoder/SCC","path":"AtCoder/SCC.html","kind":"class","full_name":"AtCoder::SCC","name":"SCC","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/scc.cr","line_number":27,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L27"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::scc_graph](https://atcoder.github.io/ac-library/master/document_en/scc.html).\n\n```\nscc = AtCoder::SCC.new(3_i64)\nscc.add_edge(0, 1)\nscc.add_edge(1, 0)\nscc.add_edge(2, 0)\nscc.scc # => [Set{2}, Set{0, 1}]\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/scc.html\">atcoder::scc_graph</a>.</p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/scc.cr","line_number":33,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L33"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(from,to)-instance-method","name":"add_edge","doc":"Implements atcoder::scc_graph.add_edge(from, to).","summary":"<p>Implements atcoder::scc_graph.add_edge(from, to).</p>","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/scc.cr","line_number":44,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L44"},"def":{"name":"add_edge","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@adjacencies[from][:out] << to.to_i64\n@adjacencies[to][:in] << from.to_i64\n"}},{"html_id":"adjacencies:Array(Adjacency)-instance-method","name":"adjacencies","abstract":false,"location":{"filename":"src/scc.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L31"},"def":{"name":"adjacencies","return_type":"Array(Adjacency)","visibility":"Public","body":"@adjacencies"}},{"html_id":"scc-instance-method","name":"scc","doc":"Implements atcoder::scc_graph.scc().","summary":"<p>Implements atcoder::scc_graph.scc().</p>","abstract":false,"location":{"filename":"src/scc.cr","line_number":94,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L94"},"def":{"name":"scc","visibility":"Public","body":"@visited = Set(Int64).new\n@stack = Deque(Int64).new\n@visit_counts = Array(Int64).new(@size, 0_i64)\n@topological_order = Array(Int64).new(@size)\n@groups = Array(Set(Int64)).new\n@size.times do |node|\n  if @visited.includes?(node)\n  else\n    dfs(node)\n  end\nend\n@visited = Set(Int64).new\n@topological_order.reverse_each do |node|\n  if @visited.includes?(node)\n  else\n    reverse_dfs(node)\n  end\nend\n@groups\n"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/scc.cr","line_number":30,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L30"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}}],"types":[{"html_id":"atcoder/AtCoder/SCC/Adjacency","path":"AtCoder/SCC/Adjacency.html","kind":"alias","full_name":"AtCoder::SCC::Adjacency","name":"Adjacency","abstract":false,"locations":[{"filename":"src/scc.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/scc.cr#L28"}],"repository_name":"atcoder","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(in: Array(Int64), out: Array(Int64))","aliased_html":"{in: Array(Int64), out: Array(Int64)}","const":false,"namespace":{"html_id":"atcoder/AtCoder/SCC","kind":"class","full_name":"AtCoder::SCC","name":"SCC"}}]},{"html_id":"atcoder/AtCoder/SegTree","path":"AtCoder/SegTree.html","kind":"class","full_name":"AtCoder::SegTree(T)","name":"SegTree","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/seg_tree.cr","line_number":28,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L28"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::segtree](https://atcoder.github.io/ac-library/master/document_en/segtree.html).\n\nThe identity element will be implicitly defined as nil, so you don't\nhave to manually define it. In the other words, you cannot include\nnil into an element of the monoid.\n\n```\ntree = AtCoder::SegTree.new((0...100).to_a) { |a, b| [a, b].min }\ntree[10...50] # => 10\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/segtree.html\">atcoder::segtree</a>.</p>","constructors":[{"html_id":"new(values:Array(T))-class-method","name":"new","abstract":false,"args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"args_string":"(values : Array(T))","args_html":"(values : Array(T))","location":{"filename":"src/seg_tree.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L31"},"def":{"name":"new","args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"visibility":"Public","body":"_ = SegTree(T).allocate\n_.initialize(values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(values:Array(T),&operator:T,T->T)-class-method","name":"new","abstract":false,"args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"args_string":"(values : Array(T), &operator : T, T -> T)","args_html":"(values : Array(T), &operator : T, T -> T)","location":{"filename":"src/seg_tree.cr","line_number":35,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L35"},"def":{"name":"new","args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"yields":2,"block_arity":2,"block_arg":{"name":"operator","external_name":"operator","restriction":"(T, T -> T)"},"visibility":"Public","body":"_ = SegTree(T).allocate\n_.initialize(values, &operator) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](index:Int)-instance-method","name":"[]","doc":"Implements atcoder::segtree.get(index)","summary":"<p>Implements atcoder::segtree.get(index)</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int)","args_html":"(index : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/seg_tree.cr","line_number":95,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L95"},"def":{"name":"[]","args":[{"name":"index","external_name":"index","restriction":"Int"}],"visibility":"Public","body":"@values[index]"}},{"html_id":"[](range:Range(Int,Int))-instance-method","name":"[]","doc":"Implements atcoder::segtree.prod(l, r)","summary":"<p>Implements atcoder::segtree.prod(l, r)</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(range : Range(Int, Int))","args_html":"(range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/seg_tree.cr","line_number":100,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L100"},"def":{"name":"[]","args":[{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"a = range.begin\nb = range.exclusive? ? range.end : range.end + 1\n(get_value(a, b, 0, 0...(@segments.size + 1))).not_nil!\n"}},{"html_id":"[]=(index:Int,value:T)-instance-method","name":"[]=","doc":"Implements atcoder::segtree.set(index, value)","summary":"<p>Implements atcoder::segtree.set(index, value)</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(index : Int, value : T)","args_html":"(index : <a href=\"../Int.html\">Int</a>, value : T)","location":{"filename":"src/seg_tree.cr","line_number":70,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L70"},"def":{"name":"[]=","args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"@values[index] = value\nparent_index = ((index + @segments.size) - 1) // 2\nwhile parent_index >= 0\n  i = parent_index\n  child1 = nil.as(T | Nil)\n  child2 = nil.as(T | Nil)\n  if ((i * 2) + 1) < @segments.size\n    child1 = @segments[(i * 2) + 1]\n    child2 = @segments[(i * 2) + 2]\n  else\n    if (((i * 2) + 1) - @segments.size) < @values.size\n      child1 = @values[((i * 2) + 1) - @segments.size]\n    end\n    if (((i * 2) + 2) - @segments.size) < @values.size\n      child2 = @values[((i * 2) + 2) - @segments.size]\n    end\n  end\n  @segments[i] = operate(child1, child2)\n  parent_index = (parent_index - 1) // 2\nend\n"}},{"html_id":"all_prod-instance-method","name":"all_prod","doc":"Implements atcoder::segtree.all_prod(l, r)","summary":"<p>Implements atcoder::segtree.all_prod(l, r)</p>","abstract":false,"location":{"filename":"src/seg_tree.cr","line_number":146,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L146"},"def":{"name":"all_prod","visibility":"Public","body":"self[0...@values.size]"}},{"html_id":"get(index:Int)-instance-method","name":"get","doc":"Implements atcoder::segtree.get(index)\nalias of `.[]`","summary":"<p>Implements atcoder::segtree.get(index) alias of <code><a href=\"../AtCoder/SegTree.html#%5B%5D%28index%3AInt%29-instance-method\">.[]</a></code></p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int)","args_html":"(index : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/seg_tree.cr","line_number":136,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L136"},"def":{"name":"get","args":[{"name":"index","external_name":"index","restriction":"Int"}],"visibility":"Public","body":"self[index]"}},{"html_id":"get_value(a:Int,b:Int,segment_index:Int,range:Range(Int,Int))-instance-method","name":"get_value","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"args_string":"(a : Int, b : Int, segment_index : Int, range : Range(Int, Int))","args_html":"(a : <a href=\"../Int.html\">Int</a>, b : <a href=\"../Int.html\">Int</a>, segment_index : <a href=\"../Int.html\">Int</a>, range : Range(<a href=\"../Int.html\">Int</a>, <a href=\"../Int.html\">Int</a>))","location":{"filename":"src/seg_tree.cr","line_number":106,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L106"},"def":{"name":"get_value","args":[{"name":"a","external_name":"a","restriction":"Int"},{"name":"b","external_name":"b","restriction":"Int"},{"name":"segment_index","external_name":"segment_index","restriction":"Int"},{"name":"range","external_name":"range","restriction":"Range(Int, Int)"}],"visibility":"Public","body":"if range.end <= a || b <= range.begin\n  return nil\nend\nif a <= range.begin && range.end <= b\n  if segment_index < @segments.size\n    return @segments[segment_index]\n  else\n    return @values[segment_index - @segments.size]\n  end\nend\nrange_median = (range.begin + range.end) // 2\nchild1 = get_value(a, b, (2 * segment_index) + 1, range.begin...range_median)\nchild2 = get_value(a, b, (2 * segment_index) + 2, range_median...range.end)\noperate(child1, child2)\n"}},{"html_id":"max_left-instance-method","name":"max_left","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/seg_tree.cr","line_number":156,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L156"},"def":{"name":"max_left","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"max_right-instance-method","name":"max_right","doc":"FIXME: Unimplemented","summary":"<p><span class=\"flag yellow\">FIXME</span>  Unimplemented</p>","abstract":false,"location":{"filename":"src/seg_tree.cr","line_number":151,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L151"},"def":{"name":"max_right","visibility":"Public","body":"raise(NotImplementedError.new)"}},{"html_id":"prod(left:Int,right:Int)-instance-method","name":"prod","doc":"Implements atcoder::segtree.prod(left, right)","summary":"<p>Implements atcoder::segtree.prod(left, right)</p>","abstract":false,"args":[{"name":"left","external_name":"left","restriction":"Int"},{"name":"right","external_name":"right","restriction":"Int"}],"args_string":"(left : Int, right : Int)","args_html":"(left : <a href=\"../Int.html\">Int</a>, right : <a href=\"../Int.html\">Int</a>)","location":{"filename":"src/seg_tree.cr","line_number":141,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L141"},"def":{"name":"prod","args":[{"name":"left","external_name":"left","restriction":"Int"},{"name":"right","external_name":"right","restriction":"Int"}],"visibility":"Public","body":"self[left...right]"}},{"html_id":"set(index:Int,value:T)-instance-method","name":"set","doc":"Implements atcoder::segtree.set(index, value)\nalias of `.[]=`","summary":"<p>Implements atcoder::segtree.set(index, value) alias of <code><a href=\"../AtCoder/SegTree.html#%5B%5D%3D%28index%3AInt%2Cvalue%3AT%29-instance-method\">.[]=</a></code></p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(index : Int, value : T)","args_html":"(index : <a href=\"../Int.html\">Int</a>, value : T)","location":{"filename":"src/seg_tree.cr","line_number":130,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L130"},"def":{"name":"set","args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"self[index] = value"}},{"html_id":"values:Array(T)-instance-method","name":"values","abstract":false,"location":{"filename":"src/seg_tree.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L29"},"def":{"name":"values","return_type":"Array(T)","visibility":"Public","body":"@values"}},{"html_id":"values=(values:Array(T))-instance-method","name":"values=","abstract":false,"args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"args_string":"(values : Array(T))","args_html":"(values : Array(T))","location":{"filename":"src/seg_tree.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/seg_tree.cr#L29"},"def":{"name":"values=","args":[{"name":"values","external_name":"values","restriction":"Array(T)"}],"visibility":"Public","body":"@values = values"}}]},{"html_id":"atcoder/AtCoder/SkewHeap","path":"AtCoder/SkewHeap.html","kind":"class","full_name":"AtCoder::SkewHeap(T)","name":"SkewHeap","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/skew_heap.cr","line_number":18,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L18"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":35,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L35"},"def":{"name":"new","visibility":"Public","body":"_ = SkewHeap(T).allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(&block:T,T->Bool)-class-method","name":"new","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":39,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L39"},"def":{"name":"new","yields":2,"block_arity":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, T -> Bool)"},"visibility":"Public","body":"_ = SkewHeap(T).allocate\n_.initialize(&block) do |_arg0, _arg1|\n  yield _arg0, _arg1\nend\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"<<(v:T)-instance-method","name":"<<","doc":"Alias of `push`","summary":"<p>Alias of <code><a href=\"../AtCoder/SkewHeap.html#push%28value%3AT%29-instance-method\">#push</a></code></p>","abstract":false,"args":[{"name":"v","external_name":"v","restriction":"T"}],"args_string":"(v : T)","args_html":"(v : T)","location":{"filename":"src/skew_heap.cr","line_number":71,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L71"},"def":{"name":"<<","args":[{"name":"v","external_name":"v","restriction":"T"}],"visibility":"Public","body":"push(v)"}},{"html_id":"empty?-instance-method","name":"empty?","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":75,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L75"},"def":{"name":"empty?","visibility":"Public","body":"@size == 0"}},{"html_id":"meld(a:Node(T)|Nil,b:Node(T)|Nil)-instance-method","name":"meld","abstract":false,"args":[{"name":"a","external_name":"a","restriction":"Node(T) | Nil"},{"name":"b","external_name":"b","restriction":"Node(T) | Nil"}],"args_string":"(a : Node(T) | Nil, b : Node(T) | Nil)","args_html":"(a : <a href=\"../AtCoder/SkewHeap/Node.html\">Node</a>(T) | Nil, b : <a href=\"../AtCoder/SkewHeap/Node.html\">Node</a>(T) | Nil)","location":{"filename":"src/skew_heap.cr","line_number":45,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L45"},"def":{"name":"meld","args":[{"name":"a","external_name":"a","restriction":"Node(T) | Nil"},{"name":"b","external_name":"b","restriction":"Node(T) | Nil"}],"visibility":"Public","body":"if a.nil?\n  return b\nend\nif b.nil?\n  return a\nend\nif @compare_proc.call(a.value, b.value)\n  a, b = b, a\nend\na.right = meld(a.right, b)\na.left, a.right = a.right, a.left\na\n"}},{"html_id":"pop-instance-method","name":"pop","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":61,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L61"},"def":{"name":"pop","visibility":"Public","body":"if @root.nil?\n  return nil\nend\nroot = @root.not_nil!\nret = root.value\n@root = meld(root.left, root.right)\n@size = @size - 1\nret\n"}},{"html_id":"push(value:T)-instance-method","name":"push","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(value : T)","args_html":"(value : T)","location":{"filename":"src/skew_heap.cr","line_number":56,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L56"},"def":{"name":"push","args":[{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"@root = meld(@root, Node(T).new(nil, nil, value))\n@size = @size + 1\n"}},{"html_id":"size-instance-method","name":"size","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":22,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L22"},"def":{"name":"size","visibility":"Public","body":"@size"}}],"types":[{"html_id":"atcoder/AtCoder/SkewHeap/Node","path":"AtCoder/SkewHeap/Node.html","kind":"class","full_name":"AtCoder::SkewHeap::Node(T)","name":"Node","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/skew_heap.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L24"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder/SkewHeap","kind":"class","full_name":"AtCoder::SkewHeap(T)","name":"SkewHeap"},"constructors":[{"html_id":"new(left:Nil|AtCoder::SkewHeap::Node(T),right:Nil|AtCoder::SkewHeap::Node(T),value:T)-class-method","name":"new","abstract":false,"args":[{"name":"left","external_name":"left","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"},{"name":"right","external_name":"right","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(left : Nil | AtCoder::SkewHeap::Node(T), right : Nil | AtCoder::SkewHeap::Node(T), value : T)","args_html":"(left : Nil | <a href=\"../../AtCoder/SkewHeap/Node.html\">AtCoder::SkewHeap::Node</a>(T), right : Nil | <a href=\"../../AtCoder/SkewHeap/Node.html\">AtCoder::SkewHeap::Node</a>(T), value : T)","location":{"filename":"src/skew_heap.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L31"},"def":{"name":"new","args":[{"name":"left","external_name":"left","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"},{"name":"right","external_name":"right","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"_ = Node(T).allocate\n_.initialize(left, right, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"left-instance-method","name":"left","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"left","visibility":"Public","body":"@left"}},{"html_id":"left=(left:Nil|AtCoder::SkewHeap::Node(T))-instance-method","name":"left=","abstract":false,"args":[{"name":"left","external_name":"left","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"}],"args_string":"(left : Nil | AtCoder::SkewHeap::Node(T))","args_html":"(left : Nil | <a href=\"../../AtCoder/SkewHeap/Node.html\">AtCoder::SkewHeap::Node</a>(T))","location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"left=","args":[{"name":"left","external_name":"left","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"}],"visibility":"Public","body":"@left = left"}},{"html_id":"right-instance-method","name":"right","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"right","visibility":"Public","body":"@right"}},{"html_id":"right=(right:Nil|AtCoder::SkewHeap::Node(T))-instance-method","name":"right=","abstract":false,"args":[{"name":"right","external_name":"right","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"}],"args_string":"(right : Nil | AtCoder::SkewHeap::Node(T))","args_html":"(right : Nil | <a href=\"../../AtCoder/SkewHeap/Node.html\">AtCoder::SkewHeap::Node</a>(T))","location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"right=","args":[{"name":"right","external_name":"right","restriction":"::Nil | ::AtCoder::SkewHeap::Node(T)"}],"visibility":"Public","body":"@right = right"}},{"html_id":"value-instance-method","name":"value","abstract":false,"location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"value","visibility":"Public","body":"@value"}},{"html_id":"value=(value:T)-instance-method","name":"value=","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(value : T)","args_html":"(value : T)","location":{"filename":"src/skew_heap.cr","line_number":29,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/skew_heap.cr#L29"},"def":{"name":"value=","args":[{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"@value = value"}}]}]},{"html_id":"atcoder/AtCoder/String","path":"AtCoder/String.html","kind":"module","full_name":"AtCoder::String","name":"String","abstract":false,"locations":[{"filename":"src/string.cr","line_number":18,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/string.cr#L18"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"class_methods":[{"html_id":"z_algorithm(sequence)-class-method","name":"z_algorithm","abstract":false,"args":[{"name":"sequence","external_name":"sequence","restriction":""}],"args_string":"(sequence)","args_html":"(sequence)","location":{"filename":"src/string.cr","line_number":19,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/string.cr#L19"},"def":{"name":"z_algorithm","args":[{"name":"sequence","external_name":"sequence","restriction":""}],"visibility":"Public","body":"n = sequence.size\nif n == 0\n  return [] of Int32\nend\nz = [0] * n\ni, j = 1, 0\nwhile i < n\n  z[i] = (  (j + z[j]) <= i) ? 0 : (  ((j + z[j]) - i) < z[i - j] ? (j + z[j]) - i : z[i - j])\n  while (i + z[i]) < n && (sequence[z[i]] == sequence[i + z[i]])\n    __temp_56 = i\n    z[__temp_56] = z[__temp_56] + 1\n  end\n  if (j + z[j]) < (i + z[i])\n    j = i\n  end\n  i = i + 1\nend\nz[0] = n\nz\n"}}]},{"html_id":"atcoder/AtCoder/Tree","path":"AtCoder/Tree.html","kind":"class","full_name":"AtCoder::Tree(NodeInfo, EdgeInfo)","name":"Tree","abstract":false,"superclass":{"html_id":"atcoder/AtCoder/UndirectedGraph","kind":"class","full_name":"AtCoder::UndirectedGraph","name":"UndirectedGraph"},"ancestors":[{"html_id":"atcoder/AtCoder/UndirectedGraph","kind":"class","full_name":"AtCoder::UndirectedGraph","name":"UndirectedGraph"},{"html_id":"atcoder/AtCoder/Graph","kind":"class","full_name":"AtCoder::Graph","name":"Graph"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":157,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L157"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new(nodes:Array(NodeInfo))-class-method","name":"new","abstract":false,"args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"args_string":"(nodes : Array(NodeInfo))","args_html":"(nodes : Array(NodeInfo))","location":{"filename":"src/graph.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L24"},"def":{"name":"new","args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"visibility":"Public","body":"_ = Tree(NodeInfo, EdgeInfo).allocate\n_.initialize(nodes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(size:Int64,initial_node:NodeInfo=nil)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"args_string":"(size : Int64, initial_node : NodeInfo = nil)","args_html":"(size : Int64, initial_node : NodeInfo = <span class=\"n\">nil</span>)","location":{"filename":"src/graph.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L32"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"visibility":"Public","body":"_ = Tree(NodeInfo, EdgeInfo).allocate\n_.initialize(size, initial_node)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"diameter-instance-method","name":"diameter","abstract":false,"location":{"filename":"src/graph.cr","line_number":162,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L162"},"def":{"name":"diameter","visibility":"Public","body":"@farthest_node = -1_i64\n@farthest_depth = 0_i64\ndfs(0_i64, 0_i64) do |node, depth, info, callback|\n  weight = info[:edge_info]\n  depth = depth + (weight.nil? ? 0 : weight)\n  if @farthest_depth.not_nil! < depth\n    @farthest_node = node\n    @farthest_depth = depth\n  end\n  callback.call(depth)\nend\nstart_node = @farthest_node.not_nil!\n@farthest_node = -1_i64\n@farthest_depth = 0_i64\n@parents = Array(Int64).new(@size, -1_i64)\ndfs(start_node, 0_i64) do |node, depth, info, callback|\n  weight = info[:edge_info]\n  depth = depth + (weight.nil? ? 0 : weight)\n  @parents.not_nil![node] = info[:parent]\n  if @farthest_depth.not_nil! < depth\n    @farthest_node = node\n    @farthest_depth = depth\n  end\n  callback.call(depth)\nend\n{@farthest_depth.not_nil!, start_node, @farthest_node.not_nil!, @parents.not_nil!}\n"}},{"html_id":"dist(a,b)-instance-method","name":"dist","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/graph.cr","line_number":281,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L281"},"def":{"name":"dist","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"lca_node = lca(a, b)\nlca_depths = @lca_depths.not_nil!\n(lca_depths[a] - lca_depths[lca_node]) + (lca_depths[b] - lca_depths[lca_node])\n"}},{"html_id":"lca(a,b)-instance-method","name":"lca","doc":"ameba:disable Metrics/CyclomaticComplexity","summary":"<p>ameba:disable Metrics/CyclomaticComplexity</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/graph.cr","line_number":237,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L237"},"def":{"name":"lca","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"if @lca_root.nil?\n  lca_precompute(0_i64)\nend\nlca_ancestors = @lca_ancestors.not_nil!\nlca_depths = @lca_depths.not_nil!\ndepth_a = lca_depths[a]\ndepth_b = lca_depths[b]\nif depth_a < depth_b\n  depth_a, depth_b, a, b = depth_b, depth_a, b, a\nend\nif depth_a != depth_b\n  a = lca_nth_prev(a, depth_a - depth_b)\nend\nif a == b\n  return a\nend\n(@size_bits - 1).downto(0) do |i|\n  if (lca_ancestors[a][i] == -1) || (lca_ancestors[b][i] == -1)\n    next\n  end\n  if lca_ancestors[a][i] != lca_ancestors[b][i]\n    a = lca_ancestors[a][i]\n    b = lca_ancestors[b][i]\n  end\nend\na = lca_ancestors[a][0]\nb = lca_ancestors[b][0]\nif ((a != b) || (a == -1)) || (b == -1)\n  raise(Exception.new(\"Assertion error\"))\nend\na\n"}},{"html_id":"on_path?(a,b,c)-instance-method","name":"on_path?","doc":"Returns `true` if node `c` is on the path from `a` to `b`.","summary":"<p>Returns <code>true</code> if node <code>c</code> is on the path from <code>a</code> to <code>b</code>.</p>","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"c","external_name":"c","restriction":""}],"args_string":"(a, b, c)","args_html":"(a, b, c)","location":{"filename":"src/graph.cr","line_number":289,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L289"},"def":{"name":"on_path?","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"c","external_name":"c","restriction":""}],"visibility":"Public","body":"((dist(a, c)) + (dist(c, b))) == (dist(a, b))"}}]},{"html_id":"atcoder/AtCoder/TwoSat","path":"AtCoder/TwoSat.html","kind":"class","full_name":"AtCoder::TwoSat","name":"TwoSat","abstract":false,"superclass":{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/two_sat.cr","line_number":30,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L30"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"doc":"Implements [atcoder::two_sat](https://atcoder.github.io/ac-library/master/document_en/twosat.html)\n\n```\ntwosat = AtCoder::TwoSat.new(2_i64)\ntwosat.add_clause(0, true, 1, false)\ntwosat.add_clause(1, true, 0, false)\ntwosat.add_clause(0, false, 1, false)\ntwosat.satisfiable? # => true\ntwosat.answer       # => [false, false]\n```","summary":"<p>Implements <a href=\"https://atcoder.github.io/ac-library/master/document_en/twosat.html\">atcoder::two_sat</a></p>","constructors":[{"html_id":"new(size:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"args_string":"(size : Int64)","args_html":"(size : Int64)","location":{"filename":"src/two_sat.cr","line_number":39,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L39"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_clause(i,f,j,g)-instance-method","name":"add_clause","doc":"Implements atcoder::two_sat.add_clause(i, f, j, g).","summary":"<p>Implements atcoder::two_sat.add_clause(i, f, j, g).</p>","abstract":false,"args":[{"name":"i","external_name":"i","restriction":""},{"name":"f","external_name":"f","restriction":""},{"name":"j","external_name":"j","restriction":""},{"name":"g","external_name":"g","restriction":""}],"args_string":"(i, f, j, g)","args_html":"(i, f, j, g)","location":{"filename":"src/two_sat.cr","line_number":56,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L56"},"def":{"name":"add_clause","args":[{"name":"i","external_name":"i","restriction":""},{"name":"f","external_name":"f","restriction":""},{"name":"j","external_name":"j","restriction":""},{"name":"g","external_name":"g","restriction":""}],"visibility":"Public","body":"@scc.add_edge(var(i, !f), var(j, g))\n@scc.add_edge(var(j, !g), var(i, f))\n"}},{"html_id":"answer-instance-method","name":"answer","doc":"Implements atcoder::two_sat.answer().\n\nThis method will raise `NotSatisfiableError` if it's not satisfiable.","summary":"<p>Implements atcoder::two_sat.answer().</p>","abstract":false,"location":{"filename":"src/two_sat.cr","line_number":85,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L85"},"def":{"name":"answer","visibility":"Public","body":"if @satisfiable\nelse\n  raise(NotSatisfiableError.new)\nend\nArray(Bool).new(@size) do |i|\n  @group_list.not_nil![i] > @group_list.not_nil![i + @size]\nend\n"}},{"html_id":"satisfiable?-instance-method","name":"satisfiable?","doc":"Implements atcoder::two_sat.satisfiable().","summary":"<p>Implements atcoder::two_sat.satisfiable().</p>","abstract":false,"location":{"filename":"src/two_sat.cr","line_number":62,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L62"},"def":{"name":"satisfiable?","visibility":"Public","body":"@satisfiable = false\ngroups = @scc.scc\n@group_list = Array(Int64).new(@size * 2, 0_i64)\ngroups.each_with_index do |group, i|\n  group.each do |item|\n    @group_list[item] = i.to_i64\n  end\nend\n@size.times do |i|\n  if @group_list[i] == @group_list[i + @size]\n    return false\n  end\nend\n@satisfiable = true\n"}},{"html_id":"size:Int64-instance-method","name":"size","abstract":false,"location":{"filename":"src/two_sat.cr","line_number":31,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L31"},"def":{"name":"size","return_type":"Int64","visibility":"Public","body":"@size"}}],"types":[{"html_id":"atcoder/AtCoder/TwoSat/NotSatisfiableError","path":"AtCoder/TwoSat/NotSatisfiableError.html","kind":"class","full_name":"AtCoder::TwoSat::NotSatisfiableError","name":"NotSatisfiableError","abstract":false,"superclass":{"html_id":"atcoder/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"atcoder/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/two_sat.cr","line_number":33,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L33"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"atcoder/AtCoder/TwoSat","kind":"class","full_name":"AtCoder::TwoSat","name":"TwoSat"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/two_sat.cr","line_number":34,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/two_sat.cr#L34"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]}]},{"html_id":"atcoder/AtCoder/UndirectedGraph","path":"AtCoder/UndirectedGraph.html","kind":"class","full_name":"AtCoder::UndirectedGraph(NodeInfo, EdgeInfo)","name":"UndirectedGraph","abstract":false,"superclass":{"html_id":"atcoder/AtCoder/Graph","kind":"class","full_name":"AtCoder::Graph","name":"Graph"},"ancestors":[{"html_id":"atcoder/AtCoder/Graph","kind":"class","full_name":"AtCoder::Graph","name":"Graph"},{"html_id":"atcoder/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":136,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L136"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"atcoder/AtCoder/Tree","kind":"class","full_name":"AtCoder::Tree(NodeInfo, EdgeInfo)","name":"Tree"}],"namespace":{"html_id":"atcoder/AtCoder","kind":"module","full_name":"AtCoder","name":"AtCoder"},"constructors":[{"html_id":"new(nodes:Array(NodeInfo))-class-method","name":"new","abstract":false,"args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"args_string":"(nodes : Array(NodeInfo))","args_html":"(nodes : Array(NodeInfo))","location":{"filename":"src/graph.cr","line_number":24,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L24"},"def":{"name":"new","args":[{"name":"nodes","external_name":"nodes","restriction":"Array(NodeInfo)"}],"visibility":"Public","body":"_ = UndirectedGraph(NodeInfo, EdgeInfo).allocate\n_.initialize(nodes)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(size:Int64,initial_node:NodeInfo=nil)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"args_string":"(size : Int64, initial_node : NodeInfo = nil)","args_html":"(size : Int64, initial_node : NodeInfo = <span class=\"n\">nil</span>)","location":{"filename":"src/graph.cr","line_number":32,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L32"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int64"},{"name":"initial_node","default_value":"nil","external_name":"initial_node","restriction":"NodeInfo"}],"visibility":"Public","body":"_ = UndirectedGraph(NodeInfo, EdgeInfo).allocate\n_.initialize(size, initial_node)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"add_edge(a,b,edge:EdgeInfo=1_i64)-instance-method","name":"add_edge","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"args_string":"(a, b, edge : EdgeInfo = 1_i64)","args_html":"(a, b, edge : EdgeInfo = <span class=\"n\">1_i64</span>)","location":{"filename":"src/graph.cr","line_number":137,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L137"},"def":{"name":"add_edge","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"visibility":"Public","body":"@edges << edge\nedge_id = @edges.size.to_i64 - 1\n@adjacencies[a][b.to_i64] = edge_id\n@adjacencies[b][a.to_i64] = edge_id\nedge_id\n"}},{"html_id":"get_edge(a,b)-instance-method","name":"get_edge","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"args_string":"(a, b)","args_html":"(a, b)","location":{"filename":"src/graph.cr","line_number":145,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L145"},"def":{"name":"get_edge","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""}],"visibility":"Public","body":"edge_id = @adjacencies[a][b.to_i64]\n@edges[edge_id]\n"}},{"html_id":"update_edge(a,b,edge:EdgeInfo=1_i64)-instance-method","name":"update_edge","abstract":false,"args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"args_string":"(a, b, edge : EdgeInfo = 1_i64)","args_html":"(a, b, edge : EdgeInfo = <span class=\"n\">1_i64</span>)","location":{"filename":"src/graph.cr","line_number":150,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/graph.cr#L150"},"def":{"name":"update_edge","args":[{"name":"a","external_name":"a","restriction":""},{"name":"b","external_name":"b","restriction":""},{"name":"edge","default_value":"1_i64","external_name":"edge","restriction":"EdgeInfo"}],"visibility":"Public","body":"edge_id = @adjacencies[a][b.to_i64]\n@edges[edge_id] = edge\nedge_id\n"}}]}]},{"html_id":"atcoder/Int","path":"Int.html","kind":"struct","full_name":"Int","name":"Int","abstract":true,"superclass":{"html_id":"atcoder/Number","kind":"struct","full_name":"Number","name":"Number"},"ancestors":[{"html_id":"atcoder/Number","kind":"struct","full_name":"Number","name":"Number"},{"html_id":"atcoder/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"atcoder/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"atcoder/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"atcoder/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},{"filename":"src/prime.cr","line_number":289,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L289"}],"repository_name":"atcoder","program":false,"enum":false,"alias":false,"const":false,"doc":"Int is the base type of all integer types.\n\nThere are four signed integer types: `Int8`, `Int16`, `Int32` and `Int64`,\nbeing able to represent numbers of 8, 16, 32 and 64 bits respectively.\nThere are four unsigned integer types: `UInt8`, `UInt16`, `UInt32` and `UInt64`.\n\nAn integer literal is an optional `+` or `-` sign, followed by\na sequence of digits and underscores, optionally followed by a suffix.\nIf no suffix is present, the literal's type is `Int32`, or `Int64` if the\nnumber doesn't fit into an `Int32`:\n\n```\n1 # Int32\n\n1_i8  # Int8\n1_i16 # Int16\n1_i32 # Int32\n1_i64 # Int64\n\n1_u8  # UInt8\n1_u16 # UInt16\n1_u32 # UInt32\n1_u64 # UInt64\n\n+10 # Int32\n-20 # Int32\n\n2147483648 # Int64\n```\n\nLiterals without a suffix that are larger than `Int64::MAX` represent a\n`UInt64` if the number fits, e.g. `9223372036854775808` and\n`0x80000000_00000000`. This behavior is deprecated and will become an error in\nthe future.\n\nThe underscore `_` before the suffix is optional.\n\nUnderscores can be used to make some numbers more readable:\n\n```\n1_000_000 # better than 1000000\n```\n\nBinary numbers start with `0b`:\n\n```\n0b1101 # == 13\n```\n\nOctal numbers start with `0o`:\n\n```\n0o123 # == 83\n```\n\nHexadecimal numbers start with `0x`:\n\n```\n0xFE012D # == 16646445\n0xfe012d # == 16646445\n```\n\nSee [`Integer` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/integers.html) in the language reference.","summary":"<p>Int is the base type of all integer types.</p>","instance_methods":[{"html_id":"*(value:AtCoder::ModInt1000000007)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"value * self"}},{"html_id":"*(value:AtCoder::ModInt998244353)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"value * self"}},{"html_id":"*(value:AtCoder::ModInt754974721)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"value * self"}},{"html_id":"*(value:AtCoder::ModInt167772161)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"value * self"}},{"html_id":"*(value:AtCoder::ModInt469762049)-instance-method","name":"*","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"*","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"value * self"}},{"html_id":"+(value:AtCoder::ModInt1000000007)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"value + self"}},{"html_id":"+(value:AtCoder::ModInt998244353)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"value + self"}},{"html_id":"+(value:AtCoder::ModInt754974721)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"value + self"}},{"html_id":"+(value:AtCoder::ModInt167772161)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"value + self"}},{"html_id":"+(value:AtCoder::ModInt469762049)-instance-method","name":"+","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"+","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"value + self"}},{"html_id":"-(value:AtCoder::ModInt1000000007)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"(-value) + self"}},{"html_id":"-(value:AtCoder::ModInt998244353)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"(-value) + self"}},{"html_id":"-(value:AtCoder::ModInt754974721)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"(-value) + self"}},{"html_id":"-(value:AtCoder::ModInt167772161)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"(-value) + self"}},{"html_id":"-(value:AtCoder::ModInt469762049)-instance-method","name":"-","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"-","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"(-value) + self"}},{"html_id":"/(value:AtCoder::ModInt1000000007)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"self // value"}},{"html_id":"/(value:AtCoder::ModInt998244353)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"self // value"}},{"html_id":"/(value:AtCoder::ModInt754974721)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"self // value"}},{"html_id":"/(value:AtCoder::ModInt167772161)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"self // value"}},{"html_id":"/(value:AtCoder::ModInt469762049)-instance-method","name":"/","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"/","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"self // value"}},{"html_id":"//(value:AtCoder::ModInt1000000007)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"value.inv * self"}},{"html_id":"//(value:AtCoder::ModInt998244353)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"value.inv * self"}},{"html_id":"//(value:AtCoder::ModInt754974721)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"value.inv * self"}},{"html_id":"//(value:AtCoder::ModInt167772161)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"value.inv * self"}},{"html_id":"//(value:AtCoder::ModInt469762049)-instance-method","name":"//","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"//","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"value.inv * self"}},{"html_id":"==(value:AtCoder::ModInt1000000007)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"args_string":"(value : AtCoder::ModInt1000000007)","args_html":"(value : <a href=\"AtCoder/ModInt1000000007.html\">AtCoder::ModInt1000000007</a>)","location":{"filename":"src/mod_int.cr","line_number":225,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L225"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt1000000007"}],"visibility":"Public","body":"value == self"}},{"html_id":"==(value:AtCoder::ModInt998244353)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"args_string":"(value : AtCoder::ModInt998244353)","args_html":"(value : <a href=\"AtCoder/ModInt998244353.html\">AtCoder::ModInt998244353</a>)","location":{"filename":"src/mod_int.cr","line_number":226,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L226"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt998244353"}],"visibility":"Public","body":"value == self"}},{"html_id":"==(value:AtCoder::ModInt754974721)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"args_string":"(value : AtCoder::ModInt754974721)","args_html":"(value : <a href=\"AtCoder/ModInt754974721.html\">AtCoder::ModInt754974721</a>)","location":{"filename":"src/mod_int.cr","line_number":227,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L227"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt754974721"}],"visibility":"Public","body":"value == self"}},{"html_id":"==(value:AtCoder::ModInt167772161)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"args_string":"(value : AtCoder::ModInt167772161)","args_html":"(value : <a href=\"AtCoder/ModInt167772161.html\">AtCoder::ModInt167772161</a>)","location":{"filename":"src/mod_int.cr","line_number":228,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L228"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt167772161"}],"visibility":"Public","body":"value == self"}},{"html_id":"==(value:AtCoder::ModInt469762049)-instance-method","name":"==","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"args_string":"(value : AtCoder::ModInt469762049)","args_html":"(value : <a href=\"AtCoder/ModInt469762049.html\">AtCoder::ModInt469762049</a>)","location":{"filename":"src/mod_int.cr","line_number":229,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/mod_int.cr#L229"},"def":{"name":"==","args":[{"name":"value","external_name":"value","restriction":"AtCoder::ModInt469762049"}],"visibility":"Public","body":"value == self"}},{"html_id":"prime?-instance-method","name":"prime?","abstract":false,"location":{"filename":"src/prime.cr","line_number":290,"url":"https://github.com/google/ac-library.cr/blob/24d3ca023a9d353903be2435fd0230d649d1f0f2/src/prime.cr#L290"},"def":{"name":"prime?","visibility":"Public","body":"AtCoder::Prime.prime?(self)"}}]}]}})
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.8.2">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="atcoder">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="atcoder">
  <title>atcoder master</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          atcoder
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent " data-id="atcoder/AtCoder" data-name="atcoder">
      <a href="AtCoder.html">AtCoder</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/Convolution" data-name="atcoder::convolution">
      <a href="AtCoder/Convolution.html">Convolution</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/DirectedGraph" data-name="atcoder::directedgraph(nodeinfo, edgeinfo)">
      <a href="AtCoder/DirectedGraph.html">DirectedGraph</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/DSU" data-name="atcoder::dsu">
      <a href="AtCoder/DSU.html">DSU</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/FenwickTree" data-name="atcoder::fenwicktree(t)">
      <a href="AtCoder/FenwickTree.html">FenwickTree</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Graph" data-name="atcoder::graph(nodeinfo, edgeinfo)">
      <a href="AtCoder/Graph.html">Graph</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/LazySegTree" data-name="atcoder::lazysegtree(s, f)">
      <a href="AtCoder/LazySegTree.html">LazySegTree</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Math" data-name="atcoder::math">
      <a href="AtCoder/Math.html">Math</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/MaxFlow" data-name="atcoder::maxflow">
      <a href="AtCoder/MaxFlow.html">MaxFlow</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/MaxFlow/Edge" data-name="atcoder::maxflow::edge">
      <a href="AtCoder/MaxFlow/Edge.html">Edge</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/MinCostFlow" data-name="atcoder::mincostflow">
      <a href="AtCoder/MinCostFlow.html">MinCostFlow</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt1000000007" data-name="atcoder::modint1000000007">
      <a href="AtCoder/ModInt1000000007.html">ModInt1000000007</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt167772161" data-name="atcoder::modint167772161">
      <a href="AtCoder/ModInt167772161.html">ModInt167772161</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt469762049" data-name="atcoder::modint469762049">
      <a href="AtCoder/ModInt469762049.html">ModInt469762049</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt754974721" data-name="atcoder::modint754974721">
      <a href="AtCoder/ModInt754974721.html">ModInt754974721</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt998244353" data-name="atcoder::modint998244353">
      <a href="AtCoder/ModInt998244353.html">ModInt998244353</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Prime" data-name="atcoder::prime">
      <a href="AtCoder/Prime.html">Prime</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/PriorityQueue" data-name="atcoder::priorityqueue(t)">
      <a href="AtCoder/PriorityQueue.html">PriorityQueue</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/RedBlackTree" data-name="atcoder::redblacktree">
      <a href="AtCoder/RedBlackTree.html">RedBlackTree</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/RedBlackTree/NilNode" data-name="atcoder::redblacktree::nilnode">
      <a href="AtCoder/RedBlackTree/NilNode.html">NilNode</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/RedBlackTree/Node" data-name="atcoder::redblacktree::node">
      <a href="AtCoder/RedBlackTree/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/SCC" data-name="atcoder::scc">
      <a href="AtCoder/SCC.html">SCC</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/SCC/Adjacency" data-name="atcoder::scc::adjacency">
      <a href="AtCoder/SCC/Adjacency.html">Adjacency</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/SegTree" data-name="atcoder::segtree(t)">
      <a href="AtCoder/SegTree.html">SegTree</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/SkewHeap" data-name="atcoder::skewheap(t)">
      <a href="AtCoder/SkewHeap.html">SkewHeap</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/SkewHeap/Node" data-name="atcoder::skewheap::node(t)">
      <a href="AtCoder/SkewHeap/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/String" data-name="atcoder::string">
      <a href="AtCoder/String.html">String</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Tree" data-name="atcoder::tree(nodeinfo, edgeinfo)">
      <a href="AtCoder/Tree.html">Tree</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/TwoSat" data-name="atcoder::twosat">
      <a href="AtCoder/TwoSat.html">TwoSat</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/TwoSat/NotSatisfiableError" data-name="atcoder::twosat::notsatisfiableerror">
      <a href="AtCoder/TwoSat/NotSatisfiableError.html">NotSatisfiableError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/UndirectedGraph" data-name="atcoder::undirectedgraph(nodeinfo, edgeinfo)">
      <a href="AtCoder/UndirectedGraph.html">UndirectedGraph</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/Int" data-name="int">
      <a href="Int.html">Int</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="ac-library.cr-run-test-and-verifier-coverage" class="anchor" href="#ac-library.cr-run-test-and-verifier-coverage">  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>ac-library.cr <a href="https://github.com/hakatashi/ac-library.cr/actions?query=workflow:%22Run+test+and+verifier%22"><img src="https://github.com/hakatashi/ac-library.cr/workflows/Run%20test%20and%20verifier/badge.svg" alt="Run test and verifier" /></a> <a href="https://codecov.io/gh/google/ac-library.cr"><img src="https://codecov.io/gh/google/ac-library.cr/branch/master/graph/badge.svg" alt="Coverage" /></a></h1>
<p>This is not an officially supported Google product.</p>
<p>ac-library.cr is a Crystal port of <a href="https://github.com/atcoder/ac-library">ac-library</a>.</p>
<p>This library aims to provide the almost-equivalent (and additional) functionality with ac-library but in the manner of Crystal.</p>
<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>
<p>Add the following code to your project's <code>shard.yml</code>.</p>
<pre><code class="language-yml">dependencies:
  atcoder:
    github: hakatashi/ac-library.cr
    branch: master</code></pre>
<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>
<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;atcoder&quot;</span> <span class="c"># load all libraries</span>
<span class="k">require</span> <span class="s">&quot;atcoder/fenwick_tree&quot;</span> <span class="c"># load FenwickTree</span></code></pre>
<h2><a id="atcodermod-int-implements-atcodermodint" class="anchor" href="#atcodermod-int-implements-atcodermodint">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/mod_int.cr"><code>atcoder/mod_int</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/modint.html">&lt;atcoder/modint&gt;</a>)</h2>
<ul>
<li>
<p><code>modint</code> =&gt; Unimplemented</p>
</li>
<li>
<p><code>modint998244353</code> =&gt; <code><a href="AtCoder/ModInt998244353.html">AtCoder::ModInt998244353</a></code></p>
</li>
<li>
<p><code>modint1000000007</code> =&gt; <code><a href="AtCoder/ModInt1000000007.html">AtCoder::ModInt1000000007</a></code></p>
<pre><code class="language-crystal"><span class="k">alias</span> <span class="t">Mint</span> <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">ModInt1000000007</span>
<span class="t">Mint</span>.new(<span class="n">30_i64</span>) <span class="o">//</span> <span class="t">Mint</span>.new(<span class="n">7_i64</span>) <span class="c">#=&gt; 285714292</span></code></pre>
</li>
<li>
<p><code>static_modint</code> =&gt; <code>AtCoder.static_modint</code></p>
<pre><code class="language-crystal"><span class="t">AtCoder</span>.static_modint(<span class="t">ModInt101</span>, <span class="n">101_i64</span>)
<span class="k">alias</span> <span class="t">Mint</span> <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">ModInt101</span>
<span class="t">Mint</span>.new(<span class="n">80_i64</span>) <span class="o">+</span> <span class="t">Mint</span>.new(<span class="n">90_i64</span>) <span class="c">#=&gt; 89</span></code></pre>
</li>
<li>
<p><code>dynamic_modint</code> =&gt; Unimplemented</p>
</li>
</ul>
<h2><a id="atcoderfenwick-tree-implements-atcoderfenwicktree" class="anchor" href="#atcoderfenwick-tree-implements-atcoderfenwicktree">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/fenwick_tree.cr"><code>atcoder/fenwick_tree</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/fenwicktree.html">&lt;atcoder/fenwicktree&gt;</a>)</h2>
<ul>
<li>
<p><code>fenwick_tree&lt;T&gt; fw(n)</code> =&gt; <code><a href="AtCoder/FenwickTree.html">AtCoder::FenwickTree</a>(T).new(n)</code></p>
</li>
<li>
<p><code>fenwick_tree&lt;T&gt; fw(array)</code> =&gt; <code><a href="AtCoder/FenwickTree.html">AtCoder::FenwickTree</a>(T).new(array)</code></p>
<pre><code class="language-crystal">tree <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">FenwickTree</span>(<span class="t">Int64</span>).new(<span class="n">10</span>)
tree.add(<span class="n">3</span>, <span class="n">10</span>)
tree.add(<span class="n">5</span>, <span class="n">20</span>)
tree[<span class="n">3</span>..<span class="n">5</span>] <span class="c">#=&gt; 30</span>
tree[<span class="n">3</span>...<span class="n">5</span>] <span class="c">#=&gt; 10</span></code></pre>
<ul>
<li><code>.add(p, x)</code> =&gt; <code>#add(p, x)</code></li>
<li><code>.sum(l, r)</code> =&gt; <code>#[](l...r)</code></li>
</ul>
</li>
</ul>
<h2><a id="atcoderseg-tree-implements-atcodersegtree" class="anchor" href="#atcoderseg-tree-implements-atcodersegtree">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/seg_tree.cr"><code>atcoder/seg_tree</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/segtree.html">&lt;atcoder/segtree&gt;</a>)</h2>
<ul>
<li>
<p><code>segtree&lt;S, op, e&gt; seg(v)</code> =&gt; <code><a href="AtCoder/SegTree.html">AtCoder::SegTree</a>(S).new(v, &amp;op?)</code></p>
<p>The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.</p>
<pre><code class="language-crystal">tree <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">SegTree</span>.new((<span class="n">0</span>...<span class="n">100</span>).to_a) {<span class="o">|</span>a, b<span class="o">|</span> [a, b].min}
tree[<span class="n">10</span>...<span class="n">50</span>] <span class="c">#=&gt; 10</span></code></pre>
<ul>
<li><code>.set(p, x)</code> =&gt; <code>#[]=(p, x)</code></li>
<li><code>.get(p)</code> =&gt; <code>#[](p)</code></li>
<li><code>.prod(l, r)</code> =&gt; <code>#[](l...r)</code></li>
<li><code>.all_prod()</code> =&gt; <code>#all_prod</code></li>
<li><code>.max_right&lt;f&gt;(l)</code> =&gt; <code>#max_right(l, e = nil, &amp;f)</code>
<ul>
<li>If the identity element is not given, it computes as <code>f(e: nil) = true</code>.</li>
</ul>
</li>
<li><code>.min_left&lt;f&gt;(r)</code> =&gt; <code>#min_left(r, e = nil, &amp;f)</code>
<ul>
<li>If the identity element is not given, it computes as <code>f(e: nil) = true</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a id="atcoderlazy-seg-tree-implements-atcoderlazysegtree" class="anchor" href="#atcoderlazy-seg-tree-implements-atcoderlazysegtree">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/lazy_seg_tree.cr"><code>atcoder/lazy_seg_tree</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/lazysegtree.html">&lt;atcoder/lazysegtree&gt;</a>)</h2>
<ul>
<li>
<p><code>lazy_segtree&lt;S, op, e, F, mapping, composition, id&gt; seg(v)</code> =&gt; <code><a href="AtCoder/LazySegTree.html">AtCoder::LazySegTree</a>(S, F).new(v, op, mapping, composition)</code></p>
<p>The identity element will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the monoid.</p>
<p>Similarly, the identity map of F will be implicitly defined as nil, so you don't have to manually define it. In the other words, you cannot include nil into an element of the set F.</p>
<pre><code class="language-crystal">op <span class="o">=</span> <span class="o">-&gt;</span>(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { [a, b].min }
mapping <span class="o">=</span> <span class="o">-&gt;</span>(f : <span class="t">Int32</span>, x : <span class="t">Int32</span>) { f }
composition <span class="o">=</span> <span class="o">-&gt;</span>(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { a }
tree <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">LazySegTree</span>(<span class="t">Int32</span>, <span class="t">Int32</span>).new((<span class="n">0</span>...<span class="n">100</span>).to_a, op, mapping, composition)
tree[<span class="n">10</span>...<span class="n">50</span>] <span class="c">#=&gt; 10</span>
tree[<span class="n">20</span>...<span class="n">60</span>] <span class="o">=</span> <span class="n">0</span>
tree[<span class="n">50</span>...<span class="n">80</span>] <span class="c">#=&gt; 0</span></code></pre>
<ul>
<li><code>.set(p, x)</code> =&gt; <code>#set(p, x)</code></li>
<li><code>.get(p)</code> =&gt; <code>#[](p)</code></li>
<li><code>.prod(l, r)</code> =&gt; <code>#[](l...r)</code></li>
<li><code>.all_prod()</code> =&gt; <code>#all_prod</code></li>
<li><code>.apply(p, f)</code> =&gt; <code>#[]=(p, f)</code></li>
<li><code>.apply(l, r, f)</code> =&gt; <code>#[]=(l...r, f)</code></li>
<li><code>.max_right&lt;f&gt;(l)</code> =&gt; <code>#max_right(l, e = nil, &amp;f)</code>
<ul>
<li>If the identity element is not given, it computes as <code>f(e: nil) = true</code>.</li>
</ul>
</li>
<li><code>.min_left&lt;f&gt;(r)</code> =&gt; <code>#min_left(r, e = nil, &amp;f)</code>
<ul>
<li>If the identity element is not given, it computes as <code>f(e: nil) = true</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a id="atcoderstring-implements-atcoderstring" class="anchor" href="#atcoderstring-implements-atcoderstring">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/string.cr"><code>atcoder/string</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/string.html">&lt;atcoder/string&gt;</a>)</h2>
<ul>
<li><code>suffix_array(s)</code> =&gt; <code>AtCoder::String.suffix_array(s)</code></li>
<li><code>lcp_array(s)</code> =&gt; <code>AtCoder::String.lcp_array(s)</code></li>
<li><code>z_algorithm(s)</code> =&gt; <code>AtCoder::String.z_algorithm(s)</code></li>
</ul>
<h2><a id="atcoderdsu-implements-atcoderdsu" class="anchor" href="#atcoderdsu-implements-atcoderdsu">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/dsu.cr"><code>atcoder/dsu</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/dsu.html">&lt;atcoder/dsu&gt;</a>)</h2>
<ul>
<li>
<p><code>dsu(n)</code> =&gt; <code>AtCoder::DSU.new(n)</code></p>
<pre><code class="language-crystal">dsu <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">DSU</span>.new(<span class="n">10</span>)
dsu.merge(<span class="n">0</span>, <span class="n">2</span>)
dsu.merge(<span class="n">4</span>, <span class="n">2</span>)
dsu.same?(<span class="n">0</span>, <span class="n">4</span>) <span class="c">#=&gt; true</span>
dsu.size(<span class="n">4</span>) <span class="c">#=&gt; 3</span></code></pre>
<ul>
<li>
<p><code>.merge(a, b)</code> =&gt; <code>#merge(a, b)</code></p>
</li>
<li>
<p><code>.same(a, b)</code> =&gt; <code>#same?(a, b)</code></p>
</li>
<li>
<p><code>.leader(a)</code> =&gt; <code>#leader(a)</code></p>
</li>
<li>
<p><code>.size()</code> =&gt; <code>#size</code></p>
</li>
<li>
<p><code>.groups()</code> =&gt; <code>#groups</code></p>
<ul>
<li>This method returns set instead of list.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a id="atcodermax-flow-implements-atcodermaxflow" class="anchor" href="#atcodermax-flow-implements-atcodermaxflow">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/max_flow.cr"><code>atcoder/max_flow</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/maxflow.html">&lt;atcoder/maxflow&gt;</a>)</h2>
<ul>
<li>
<p><code>mf_graph&lt;Cap&gt; graph(n)</code> =&gt; <code>AtCoder::MaxFlow.new(n)</code></p>
<p><code>Cap</code> is always <code>Int64</code>.</p>
<pre><code class="language-crystal">mf <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">MaxFlow</span>.new(<span class="n">3</span>)
mf.add_edge(<span class="n">0</span>, <span class="n">1</span>, <span class="n">3</span>)
mf.add_edge(<span class="n">1</span>, <span class="n">2</span>, <span class="n">1</span>)
mf.add_edge(<span class="n">0</span>, <span class="n">2</span>, <span class="n">2</span>)
mf.flow(<span class="n">0</span>, <span class="n">2</span>) <span class="c">#=&gt; 3</span></code></pre>
<ul>
<li><code>.add_edge(from, to, cap)</code> =&gt; <code>#add_edge(from, to, cap)</code></li>
<li><code>.flow(s, t)</code> =&gt; <code>#flow(s, t)</code></li>
<li><code>.min_cut(s)</code> =&gt; Unimplemented</li>
<li><code>.get_edge(i)</code> =&gt; Unimplemented</li>
<li><code>.edges()</code> =&gt; Unimplemented</li>
<li><code>.change_edge(i, new_cap, new_flow)</code> =&gt; Unimplemented</li>
</ul>
</li>
</ul>
<h2><a id="atcoderscc-impements-atcoderscc" class="anchor" href="#atcoderscc-impements-atcoderscc">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/scc.cr"><code>atcoder/scc</code></a> (Impements <a href="https://atcoder.github.io/ac-library/document_en/scc.html">&lt;atcoder/scc&gt;</a>)</h2>
<ul>
<li>
<p><code>scc_graph graph(n)</code> =&gt; <code>AtCoder::SCC.new(n)</code></p>
<pre><code class="language-crystal">scc <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">SCC</span>.new(<span class="n">3_i64</span>)
scc.add_edge(<span class="n">0</span>, <span class="n">1</span>)
scc.add_edge(<span class="n">1</span>, <span class="n">0</span>)
scc.add_edge(<span class="n">2</span>, <span class="n">0</span>)
scc.scc <span class="c">#=&gt; [Set{2}, Set{0, 1}]</span></code></pre>
<ul>
<li><code>.add_edge(from, to)</code> =&gt; <code>#add_edge(from, to)</code></li>
<li><code>.scc()</code> =&gt; <code>#scc</code></li>
</ul>
</li>
</ul>
<h2><a id="atcodertwo-sat-implements-atcodertwosat" class="anchor" href="#atcodertwo-sat-implements-atcodertwosat">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/two_sat.cr"><code>atcoder/two_sat</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/twosat.html">&lt;atcoder/twosat&gt;</a>)</h2>
<ul>
<li>
<p><code>two_sat graph(n)</code> =&gt; <code>AtCoder::SCC.new(n)</code></p>
<pre><code class="language-crystal">twosat <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">TwoSat</span>.new(<span class="n">2_i64</span>)
twosat.add_clause(<span class="n">0</span>, <span class="n">true</span>, <span class="n">1</span>, <span class="n">false</span>)
twosat.add_clause(<span class="n">1</span>, <span class="n">true</span>, <span class="n">0</span>, <span class="n">false</span>)
twosat.add_clause(<span class="n">0</span>, <span class="n">false</span>, <span class="n">1</span>, <span class="n">false</span>)
twosat.satisfiable? <span class="c">#=&gt; true</span>
twosat.answer <span class="c">#=&gt; [false, false]</span></code></pre>
<ul>
<li>
<p><code>.add_clause(i, f, j, g)</code> =&gt; <code>#add_clause(i, f, j, g)</code></p>
</li>
<li>
<p><code>.satisfiable()</code> =&gt; <code>#satisfiable?</code></p>
</li>
<li>
<p><code>.answer()</code> =&gt; <code>#answer</code></p>
<p>This method will raise if it's not satisfiable</p>
</li>
</ul>
</li>
</ul>
<h2><a id="atcodermath-implements-atcodermath" class="anchor" href="#atcodermath-implements-atcodermath">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/math.cr"><code>atcoder/math</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/math.html">&lt;atcoder/math&gt;</a>)</h2>
<ul>
<li><code>pow_mod(x, n, m)</code> =&gt; <code>AtCoder::Math.pow_mod(x, n, m)</code></li>
<li><code>inv_mod(x, m)</code> =&gt; <code>AtCoder::Math.inv_mod(x, m)</code></li>
<li><code>crt(r, m)</code> =&gt; <code>AtCoder::Math.crt(r, m)</code></li>
<li><code>floor_sum</code> =&gt; <code>AtCoder::Math.floor_sum(n, m, a, b)</code></li>
</ul>
<h2><a id="atcoderconvolution-implements-atcoderconvolution" class="anchor" href="#atcoderconvolution-implements-atcoderconvolution">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/convolution.cr"><code>atcoder/convolution</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/convolution.html">&lt;atcoder/convolution&gt;</a>)</h2>
<ul>
<li>
<p><code>convolution(a, b)</code> =&gt; <code>AtCoder::Convolution.convolution(a, b)</code></p>
<pre><code class="language-crystal">a <span class="o">=</span> [<span class="t">AtCoder</span><span class="t">::</span><span class="t">ModInt998244353</span>.new(<span class="n">1_i64</span>)] <span class="o">*</span> <span class="n">3</span>
<span class="t">AtCoder</span><span class="t">::</span><span class="t">Convolution</span>.convolution(a, a) <span class="c">#=&gt; [1, 2, 3, 2, 1]</span></code></pre>
</li>
<li>
<p><code>convolution_ll(a, b)</code> =&gt; <code>AtCoder::Convolution.convolution_ll(a, b)</code></p>
<pre><code class="language-crystal">a <span class="o">=</span> [<span class="n">1_000_000_000_i64</span>]
<span class="t">AtCoder</span><span class="t">::</span><span class="t">Convolution</span>.convolution_ll(a, a) <span class="c">#=&gt; [1000000000000000000]</span></code></pre>
</li>
</ul>
<h2><a id="atcodermin-cost-flow-implements-atcodermincostflow" class="anchor" href="#atcodermin-cost-flow-implements-atcodermincostflow">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/min_cost_flow.cr"><code>atcoder/min_cost_flow</code></a> (Implements <a href="https://atcoder.github.io/ac-library/document_en/mincostflow.html">&lt;atcoder/mincostflow&gt;</a>)</h2>
<ul>
<li>
<p><code>mcf_graph graph(n)</code> =&gt; <code>AtCoder::MinCostFlow.new(n)</code></p>
<pre><code class="language-crystal">flow <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">MinCostFlow</span>.new(<span class="n">5</span>)
flow.add_edge(<span class="n">0</span>, <span class="n">1</span>, <span class="n">30</span>, <span class="n">3</span>)
flow.add_edge(<span class="n">0</span>, <span class="n">2</span>, <span class="n">60</span>, <span class="n">9</span>)
flow.add_edge(<span class="n">1</span>, <span class="n">2</span>, <span class="n">40</span>, <span class="n">5</span>)
flow.add_edge(<span class="n">1</span>, <span class="n">3</span>, <span class="n">50</span>, <span class="n">7</span>)
flow.add_edge(<span class="n">2</span>, <span class="n">3</span>, <span class="n">20</span>, <span class="n">8</span>)
flow.add_edge(<span class="n">2</span>, <span class="n">4</span>, <span class="n">50</span>, <span class="n">6</span>)
flow.add_edge(<span class="n">3</span>, <span class="n">4</span>, <span class="n">60</span>, <span class="n">7</span>)
flow.flow(<span class="n">0</span>, <span class="n">4</span>, <span class="n">70</span>) <span class="c">#=&gt; {70, 1080}</span></code></pre>
<ul>
<li><code>.add_edge(from, to, cap, cost)</code> =&gt; <code>#add_edge(from, to, cap, cost)</code></li>
<li><code>.flow(s, t)</code> =&gt; <code>#flow(s, t)</code></li>
<li><code>.flow(s, t, flow_limit)</code> =&gt; <code>#flow(s, t, flow_limit)</code></li>
<li><code>.slope(s, t)</code> =&gt; <code>#slope(s, t)</code></li>
<li><code>.slope(s, t, flow_limit)</code> =&gt; <code>#slope(s, t, flow_limit)</code></li>
<li><code>.get_edge(i)</code> =&gt; Unimplemented</li>
<li><code>.edges()</code> =&gt; Unimplemented</li>
</ul>
</li>
</ul>
<h2><a id="atcoderpriority-queue-not-in-acl" class="anchor" href="#atcoderpriority-queue-not-in-acl">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/priority_queue.cr"><code>atcoder/priority_queue</code></a> (not in ACL)</h2>
<ul>
<li>
<p><code><a href="AtCoder/PriorityQueue.html">AtCoder::PriorityQueue</a>(T).new</code></p>
<pre><code class="language-crystal">q <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">PriorityQueue</span>(<span class="t">Int64</span>).new
q <span class="o">&lt;&lt;</span> <span class="n">1_i64</span>
q <span class="o">&lt;&lt;</span> <span class="n">3_i64</span>
q <span class="o">&lt;&lt;</span> <span class="n">2_i64</span>
q.pop <span class="c">#=&gt; 3</span>
q.pop <span class="c">#=&gt; 2</span>
q.pop <span class="c">#=&gt; 1</span></code></pre>
<ul>
<li>
<p><code>#&lt;&lt;(v : T)</code></p>
<p>Push value into the queue.</p>
</li>
<li>
<p><code>#pop</code></p>
<p>Pop value from the queue.</p>
</li>
<li>
<p><code>#each</code></p>
<p>Yields each item in the queue in comparator's order.</p>
<p>It pre-calculates in O(NlogN) to enumerate without destroying the heap. Note, however, that <code>#first</code> works for O(1).</p>
<pre><code class="language-crystal">q <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">PriorityQueue</span>.new(<span class="n">1</span>..n)

<span class="c"># O(n log(n))</span>
q.each <span class="k">do</span> <span class="o">|</span>x<span class="o">|</span>
  <span class="k">break</span>
<span class="k">end</span>

<span class="c"># O(n log(n) + n) = O(n log(n))</span>
q.each <span class="k">do</span> <span class="o">|</span>x<span class="o">|</span>
  <span class="c"># something to do in O(1)</span>
<span class="k">end</span>

<span class="c"># O(1)</span>
q.first <span class="c"># =&gt; n</span></code></pre>
</li>
<li>
<p><code>#size</code></p>
<p>Returns size of the queue</p>
</li>
<li>
<p><code>#empty?</code></p>
<p>Returns <code>true</code> if the queue is empty.</p>
</li>
</ul>
</li>
</ul>
<h2><a id="atcoderprime-not-in-acl" class="anchor" href="#atcoderprime-not-in-acl">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a><a href="https://hakatashi.github.io/ac-library.cr/docs/src/prime.cr"><code>atcoder/prime</code></a> (not in ACL)</h2>
<ul>
<li>
<p><code><a href="AtCoder/Prime.html">AtCoder::Prime</a></code> (module)</p>
<p>Implements <a href="https://ruby-doc.com/stdlib/libdoc/prime/rdoc/prime.html">Ruby's Prime library</a>.</p>
<pre><code class="language-crystal"><span class="t">AtCoder</span><span class="t">::</span><span class="t">Prime</span>.first(<span class="n">7</span>) <span class="c"># =&gt; [2, 3, 5, 7, 11, 13, 17]</span></code></pre>
</li>
</ul>
</div>
</body>
</html>

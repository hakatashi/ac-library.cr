<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.8.2">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="atcoder">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="atcoder">
  <title>AtCoder::LazySegTree(S, F) - atcoder master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          atcoder
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="atcoder/AtCoder" data-name="atcoder">
      <a href="../AtCoder.html">AtCoder</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/Convolution" data-name="atcoder::convolution">
      <a href="../AtCoder/Convolution.html">Convolution</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/DirectedGraph" data-name="atcoder::directedgraph(nodeinfo, edgeinfo)">
      <a href="../AtCoder/DirectedGraph.html">DirectedGraph</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/DSU" data-name="atcoder::dsu">
      <a href="../AtCoder/DSU.html">DSU</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/FenwickTree" data-name="atcoder::fenwicktree(t)">
      <a href="../AtCoder/FenwickTree.html">FenwickTree</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Graph" data-name="atcoder::graph(nodeinfo, edgeinfo)">
      <a href="../AtCoder/Graph.html">Graph</a>
      
    </li>
  
  <li class=" current" data-id="atcoder/AtCoder/LazySegTree" data-name="atcoder::lazysegtree(s, f)">
      <a href="../AtCoder/LazySegTree.html">LazySegTree</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Math" data-name="atcoder::math">
      <a href="../AtCoder/Math.html">Math</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/MaxFlow" data-name="atcoder::maxflow">
      <a href="../AtCoder/MaxFlow.html">MaxFlow</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/MaxFlow/Edge" data-name="atcoder::maxflow::edge">
      <a href="../AtCoder/MaxFlow/Edge.html">Edge</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/MinCostFlow" data-name="atcoder::mincostflow">
      <a href="../AtCoder/MinCostFlow.html">MinCostFlow</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt1000000007" data-name="atcoder::modint1000000007">
      <a href="../AtCoder/ModInt1000000007.html">ModInt1000000007</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt167772161" data-name="atcoder::modint167772161">
      <a href="../AtCoder/ModInt167772161.html">ModInt167772161</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt469762049" data-name="atcoder::modint469762049">
      <a href="../AtCoder/ModInt469762049.html">ModInt469762049</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt754974721" data-name="atcoder::modint754974721">
      <a href="../AtCoder/ModInt754974721.html">ModInt754974721</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/ModInt998244353" data-name="atcoder::modint998244353">
      <a href="../AtCoder/ModInt998244353.html">ModInt998244353</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Prime" data-name="atcoder::prime">
      <a href="../AtCoder/Prime.html">Prime</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/PriorityQueue" data-name="atcoder::priorityqueue(t)">
      <a href="../AtCoder/PriorityQueue.html">PriorityQueue</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/RedBlackTree" data-name="atcoder::redblacktree">
      <a href="../AtCoder/RedBlackTree.html">RedBlackTree</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/RedBlackTree/NilNode" data-name="atcoder::redblacktree::nilnode">
      <a href="../AtCoder/RedBlackTree/NilNode.html">NilNode</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/RedBlackTree/Node" data-name="atcoder::redblacktree::node">
      <a href="../AtCoder/RedBlackTree/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/SCC" data-name="atcoder::scc">
      <a href="../AtCoder/SCC.html">SCC</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/SCC/Adjacency" data-name="atcoder::scc::adjacency">
      <a href="../AtCoder/SCC/Adjacency.html">Adjacency</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/SegTree" data-name="atcoder::segtree(t)">
      <a href="../AtCoder/SegTree.html">SegTree</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/SkewHeap" data-name="atcoder::skewheap(t)">
      <a href="../AtCoder/SkewHeap.html">SkewHeap</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/SkewHeap/Node" data-name="atcoder::skewheap::node(t)">
      <a href="../AtCoder/SkewHeap/Node.html">Node</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/String" data-name="atcoder::string">
      <a href="../AtCoder/String.html">String</a>
      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/Tree" data-name="atcoder::tree(nodeinfo, edgeinfo)">
      <a href="../AtCoder/Tree.html">Tree</a>
      
    </li>
  
  <li class="parent " data-id="atcoder/AtCoder/TwoSat" data-name="atcoder::twosat">
      <a href="../AtCoder/TwoSat.html">TwoSat</a>
      
        <ul>
  
  <li class=" " data-id="atcoder/AtCoder/TwoSat/NotSatisfiableError" data-name="atcoder::twosat::notsatisfiableerror">
      <a href="../AtCoder/TwoSat/NotSatisfiableError.html">NotSatisfiableError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/AtCoder/UndirectedGraph" data-name="atcoder::undirectedgraph(nodeinfo, edgeinfo)">
      <a href="../AtCoder/UndirectedGraph.html">UndirectedGraph</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="atcoder/Int" data-name="int">
      <a href="../Int.html">Int</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> AtCoder::LazySegTree(S, F)

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../AtCoder/LazySegTree.html">AtCoder::LazySegTree(S, F)</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Implements <a href="https://atcoder.github.io/ac-library/master/document_en/lazysegtree.html">atcoder::lazy_segtree</a>.</p>
<p>The identity element will be implicitly defined as nil, so you don't
have to manually define it. In the other words, you cannot include
nil into an element of the monoid.</p>
<p>Similarly, the identity map of F will be implicitly defined as nil,
so you don't have to manually define it. In the other words, you
cannot include nil into an element of the set F.</p>
<pre><code class="language-crystal">op <span class="o">=</span> <span class="o">-&gt;</span>(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { [a, b].min }
mapping <span class="o">=</span> <span class="o">-&gt;</span>(f : <span class="t">Int32</span>, x : <span class="t">Int32</span>) { f }
composition <span class="o">=</span> <span class="o">-&gt;</span>(a : <span class="t">Int32</span>, b : <span class="t">Int32</span>) { a }
tree <span class="o">=</span> <span class="t">AtCoder</span><span class="t">::</span><span class="t">LazySegTree</span>(<span class="t">Int32</span>, <span class="t">Int32</span>).new((<span class="n">0</span>...<span class="n">100</span>).to_a, op, mapping, composition)
tree[<span class="n">10</span>...<span class="n">50</span>] <span class="c"># =&gt; 10</span>
tree[<span class="n">20</span>...<span class="n">60</span>] <span class="o">=</span> <span class="n">0</span>
tree[<span class="n">50</span>...<span class="n">80</span>] <span class="c"># =&gt; 0</span></code></pre>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L37" target="_blank">
        lazy_seg_tree.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28values%3AArray%28S%29%2Coperator%3AS%2CS-%3ES%2Capplication%3AF%2CS-%3ES%2Ccomposition%3AF%2CF-%3EF%29-class-method" class="signature"><strong>.new</strong>(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#%5B%5D%28index%3AInt%29-instance-method" class="signature"><strong>#[]</strong>(index : Int)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.get(index).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%28range%3ARange%29-instance-method" class="signature"><strong>#[]</strong>(range : Range)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.prod(left, right).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%3D%28index%3AInt%2Capplicator%3AF%29-instance-method" class="signature"><strong>#[]=</strong>(index : Int, applicator : F)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.apply(index, applicator).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%3D%28range%3ARange%2Capplicator%3AF%29-instance-method" class="signature"><strong>#[]=</strong>(range : Range, applicator : F)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.apply(left, right, applicator).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#all_prod-instance-method" class="signature"><strong>#all_prod</strong></a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.all_prod().</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max_right%28left%2Ce%3AS%7CNil%3Dnil%2C%26%3AS-%3EBool%29-instance-method" class="signature"><strong>#max_right</strong>(left, e : S | Nil = <span class="n">nil</span>, & : S -> Bool)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.max_right(left, g).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#min_left%28right%2Ce%3AS%7CNil%3Dnil%2C%26%3AS-%3EBool%29-instance-method" class="signature"><strong>#min_left</strong>(right, e : S | Nil = <span class="n">nil</span>, & : S -> Bool)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.min_left(right, g).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set%28index%3AInt%2Cvalue%3AS%29-instance-method" class="signature"><strong>#set</strong>(index : Int, value : S)</a>
        
          <div class="summary"><p>Implements atcoder::lazy_segtree.set(index, applicator).</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(values:Array(S),operator:S,S-&gt;S,application:F,S-&gt;S,composition:F,F-&gt;F)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(values : Array(S), operator : S, S -> S, application : F, S -> S, composition : F, F -> F)

        <a class="method-permalink" href="#new%28values%3AArray%28S%29%2Coperator%3AS%2CS-%3ES%2Capplication%3AF%2CS-%3ES%2Ccomposition%3AF%2CF-%3EF%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L42" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="[](index:Int)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(index : <a href="../Int.html">Int</a>)

        <a class="method-permalink" href="#%5B%5D%28index%3AInt%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.get(index).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L107" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](range:Range)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(range : Range)

        <a class="method-permalink" href="#%5B%5D%28range%3ARange%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.prod(left, right).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L114" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(index:Int,applicator:F)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(index : <a href="../Int.html">Int</a>, applicator : F)

        <a class="method-permalink" href="#%5B%5D%3D%28index%3AInt%2Capplicator%3AF%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.apply(index, applicator).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L65" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(range:Range,applicator:F)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(range : Range, applicator : F)

        <a class="method-permalink" href="#%5B%5D%3D%28range%3ARange%2Capplicator%3AF%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.apply(left, right, applicator).
ameba:disable Metrics/CyclomaticComplexity</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L75" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="all_prod-instance-method">
      <div class="signature">
        
        def <strong>all_prod</strong>

        <a class="method-permalink" href="#all_prod-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.all_prod().</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L141" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max_right(left,e:S|Nil=nil,&amp;:S-&gt;Bool)-instance-method">
      <div class="signature">
        
        def <strong>max_right</strong>(left, e : S | Nil = <span class="n">nil</span>, & : S -> Bool)

        <a class="method-permalink" href="#max_right%28left%2Ce%3AS%7CNil%3Dnil%2C%26%3AS-%3EBool%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.max_right(left, g).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L146" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="min_left(right,e:S|Nil=nil,&amp;:S-&gt;Bool)-instance-method">
      <div class="signature">
        
        def <strong>min_left</strong>(right, e : S | Nil = <span class="n">nil</span>, & : S -> Bool)

        <a class="method-permalink" href="#min_left%28right%2Ce%3AS%7CNil%3Dnil%2C%26%3AS-%3EBool%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.min_left(right, g).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L191" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set(index:Int,value:S)-instance-method">
      <div class="signature">
        
        def <strong>set</strong>(index : <a href="../Int.html">Int</a>, value : S)

        <a class="method-permalink" href="#set%28index%3AInt%2Cvalue%3AS%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Implements atcoder::lazy_segtree.set(index, applicator).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/google/ac-library.cr/blob/0fe07c4a910c01049985a95e63aaf6750de9c8bb/src/lazy_seg_tree.cr#L57" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
